module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},59848,(a,b,c)=>{"use strict";b.exports=a.r(18622)},17037,(a,b,c)=>{"use strict";b.exports=a.r(59848).vendored["react-ssr"].ReactJsxRuntime},62603,(a,b,c)=>{"use strict";b.exports=a.r(59848).vendored["react-ssr"].React},82022,a=>{"use strict";var b=function(){return(b=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)};function c(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c}function d(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})}function e(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))}"function"==typeof SuppressedError&&SuppressedError,a.s(["__assign",()=>b,"__awaiter",()=>d,"__rest",()=>c,"__spreadArray",()=>e])},73425,73147,a=>{"use strict";var b=a.i(17037),c=a.i(62603);a.i(38454);var d=a.i(22096);let e={admin:["dashboard","markalar","teknik-hizmetler","icerik-uret","gunluk-isler","giris-cikis","ayarlar"],personel:["gunluk-isler","giris-cikis"],operasyon:["gunluk-isler","giris-cikis","teknik-hizmetler"]};function f(a,b){return"admin"===a||(e[a]?.includes(b)??!1)}function g(a,b){return"admin"===a||"operasyon"===a&&"teknik-hizmetler"===b||"gunluk-isler"===b||"giris-cikis"===b}function h(a){return"admin"===a?"/dashboard":"/gunluk-isler"}a.s(["AVATAR_COLORS",0,{A:"from-amber-500 to-orange-600",B:"from-violet-500 to-purple-600",E:"from-rose-500 to-pink-600",N:"from-emerald-500 to-teal-600",Ã–:"from-cyan-500 to-blue-600",default:"from-zinc-500 to-zinc-600"},"CATEGORY_COLORS",0,{tasarim:{bg:"bg-fuchsia-500/20",text:"text-fuchsia-400",border:"border-fuchsia-500/20"},video:{bg:"bg-rose-500/20",text:"text-rose-400",border:"border-rose-500/20"},revize:{bg:"bg-amber-500/20",text:"text-amber-400",border:"border-amber-500/20"},toplanti:{bg:"bg-blue-500/20",text:"text-blue-400",border:"border-blue-500/20"},arastirma:{bg:"bg-cyan-500/20",text:"text-cyan-400",border:"border-cyan-500/20"},gelistirme:{bg:"bg-emerald-500/20",text:"text-emerald-400",border:"border-emerald-500/20"},icerik:{bg:"bg-violet-500/20",text:"text-violet-400",border:"border-violet-500/20"},destek:{bg:"bg-orange-500/20",text:"text-orange-400",border:"border-orange-500/20"},genel:{bg:"bg-slate-500/20",text:"text-slate-400",border:"border-slate-500/20"}},"canAccess",()=>f,"canEdit",()=>g,"getDefaultRoute",()=>h],73147);let i=(0,c.createContext)(void 0);function j({children:a}){let[e,j]=(0,c.useState)(null),[k,l]=(0,c.useState)(null),[m,n]=(0,c.useState)(!0),o=(0,c.useRef)(!1),p=(0,c.useMemo)(()=>(0,d.createBrowserClient)("https://ycqgynakmefpjsyfchew.supabase.co","sb_publishable_QToYz-_I_rvgKEUsS7x3-g_F1L0gWxv"),[]),q=(0,c.useCallback)(async a=>{try{console.log("[Auth] Fetching app user...");let{data:b,error:c}=await p.from("users").select("*").eq("id",a).single();if(c)return console.error("[Auth] Users error:",c.message),null;return console.log("[Auth] Got user:",b?.email),b}catch(a){return console.error("[Auth] Exception:",a?.message),null}},[p]),r=(0,c.useCallback)(async()=>{let{data:{user:a}}=await p.auth.getUser();a&&(j(a),l(await q(a.id)))},[p,q]);(0,c.useEffect)(()=>{if(o.current)return;o.current=!0;let a=async()=>{console.log("[Auth] Init start");try{let{data:{user:a},error:b}=await p.auth.getUser();if(b||!a){console.log("[Auth] No user"),n(!1);return}console.log("[Auth] User:",a.email),j(a);let c=await q(a.id);l(c),console.log("[Auth] Done"),n(!1)}catch(a){console.error("[Auth] Error:",a?.message),n(!1)}},{data:{subscription:b}}=p.auth.onAuthStateChange(a=>{console.log("[Auth] Event:",a),"SIGNED_OUT"===a&&(j(null),l(null),n(!1))});return a(),()=>b.unsubscribe()},[p,q]);let s=(0,c.useCallback)(async()=>{await p.auth.signOut(),j(null),l(null)},[p]),t=k?.role??null;return(0,b.jsx)(i.Provider,{value:{authUser:e,appUser:k,loading:m,role:t,isAdmin:"admin"===t,isOperasyon:"operasyon"===t,isPersonel:"personel"===t,canAccess:a=>!!t&&f(t,a),canEdit:a=>!!t&&g(t,a),getDefaultRoute:()=>t?h(t):"/login",signOut:s,refreshUser:r},children:a})}function k(){let a=(0,c.useContext)(i);if(void 0===a)throw Error("useAuth must be used within an AuthProvider");return a}a.s(["AuthProvider",()=>j,"useAuth",()=>k],73425)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__0c89e1d6._.js.map