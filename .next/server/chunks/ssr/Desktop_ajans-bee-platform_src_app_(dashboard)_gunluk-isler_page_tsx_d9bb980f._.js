module.exports=[82903,a=>{"use strict";var b=a.i(17037),c=a.i(62603),d=a.i(73425),e=a.i(77480),f=a.i(73147),g=a.i(47148),h=a.i(30194),i=a.i(8398),j=a.i(98288),k=a.i(65222),l=a.i(5599);let m=(0,l.default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var n=a.i(97683),o=a.i(41221),p=a.i(8907),q=a.i(52026),r=a.i(75231),s=a.i(39996),t=a.i(61634);let u=(0,l.default)("pause",[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]]),v=(0,l.default)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]);var w=a.i(96461),x=a.i(48986),y=a.i(35545),z=a.i(38644),A=a.i(81404),B=a.i(53197);let C=(0,l.default)("circle-play",[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var D=a.i(33420),E=a.i(90289);let F=(0,l.default)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),G=(0,l.default)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var H=a.i(23365),I=a.i(54059);function J(a){if(!a||a<0)return"0d";let b=Math.floor(a/3600),c=Math.floor(a%3600/60);return b>0?`${b}s ${c}d`:`${c}d`}function K(a){if(!a||a<0)return"0 saat";let b=Math.floor(a/3600);return`${b} saat`}function L(a){return new Date(a).toLocaleTimeString("tr-TR",{hour:"2-digit",minute:"2-digit",timeZone:"Europe/Istanbul"})}function M(a){return new Date(a).toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric",weekday:"long"})}function N(a){return new Date(a).toLocaleDateString("tr-TR",{day:"2-digit",month:"2-digit",year:"numeric"})}function O(a){if(!a)return f.AVATAR_COLORS.default;let b=a.charAt(0).toUpperCase();return f.AVATAR_COLORS[b]||f.AVATAR_COLORS.default}function P({count:a}){if(0===a)return null;let c=[],d=Math.min(a,4),e=["bg-rose-400","bg-rose-500","bg-rose-600","bg-rose-700"];for(let f=0;f<d;f++)c.push((0,b.jsx)("div",{className:`w-2 h-2 rounded-full ${e[f]}`,title:`${a} Revize`},f));return(0,b.jsx)("div",{className:"flex items-center gap-0.5",children:c})}function Q({status:a}){let{label:c,icon:d,classes:e}={active:{label:"Devam Ediyor",icon:(0,b.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400 animate-pulse"}),classes:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30"},paused:{label:"Beklemede",icon:(0,b.jsx)(u,{className:"w-3 h-3"}),classes:"bg-amber-500/20 text-amber-400 border-amber-500/30"},completed:{label:"Tamamlandı",icon:(0,b.jsx)(q.CheckCircle,{className:"w-3 h-3"}),classes:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30"}}[a];return(0,b.jsxs)("span",{className:`inline-flex items-center gap-1.5 text-xs px-2 py-0.5 rounded-full border ${e}`,children:[d,c]})}function R({icon:a,value:c,label:d,color:e,subtitle:f}){let g={indigo:{iconBg:"bg-indigo-500/10 border-indigo-500/20 text-indigo-400",glow:"glow-indigo"},emerald:{iconBg:"bg-emerald-500/10 border-emerald-500/20 text-emerald-400",glow:"glow-emerald"},amber:{iconBg:"bg-amber-500/10 border-amber-500/20 text-amber-400",glow:"glow-amber"},rose:{iconBg:"bg-rose-500/10 border-rose-500/20 text-rose-400",glow:"glow-rose"},cyan:{iconBg:"bg-cyan-500/10 border-cyan-500/20 text-cyan-400",glow:"glow-cyan"}},{iconBg:h,glow:i}=g[e]||g.indigo;return(0,b.jsxs)("div",{className:`glass-card rounded-2xl p-4 border border-white/10 ${i} card-hover`,children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("div",{className:`p-2 rounded-lg border ${h}`,children:a}),(0,b.jsx)("span",{className:"text-xs text-zinc-500",children:f||"Bugün"})]}),(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:c}),(0,b.jsx)("p",{className:"text-xs text-zinc-500",children:d})]})}function S({task:a,isAdmin:d,revisions:e,onPause:g,onResume:h,onComplete:i,onStartRevision:l,onReopen:o,onEdit:p,onDelete:q}){let[s,t]=(0,c.useState)(a.total_duration),[x,y]=(0,c.useState)(!1),z=e.filter(b=>b.task_id===a.id).sort((a,b)=>a.revision_number-b.revision_number);(0,c.useEffect)(()=>{if("active"!==a.status)return void t(a.total_duration);let b=new Date(a.start_time).getTime(),c=a.total_duration||0,d=setInterval(()=>{t(c+Math.floor((Date.now()-b)/1e3))},1e3);return()=>clearInterval(d)},[a.status,a.start_time,a.total_duration]);let A=a.category?.slug||"genel",B=f.CATEGORY_COLORS[A]||f.CATEGORY_COLORS.genel;return(0,b.jsxs)("div",{className:`glass-card rounded-2xl transition-all hover:bg-white/[0.02] hover:border-white/20 group ${"active"===a.status?"border-emerald-500/30 glow-emerald":"border-white/10"}`,children:[(0,b.jsxs)("div",{className:"p-5 cursor-pointer",onClick:()=>y(!x),children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[d&&a.user&&(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:`h-7 w-7 rounded-full bg-gradient-to-br ${O(a.user.full_name)} flex items-center justify-center`,children:(0,b.jsx)("span",{className:"text-white text-xs font-bold",children:a.user.full_name?.charAt(0)||"?"})}),(0,b.jsx)("span",{className:"text-sm font-medium text-zinc-300",children:a.user.full_name?.split(" ")[0]})]}),(0,b.jsx)(Q,{status:a.status}),(0,b.jsx)("span",{className:`text-xs px-2 py-0.5 rounded-full ${B.bg} ${B.text} border ${B.border}`,children:a.category?.name||"Genel"}),a.brand&&(0,b.jsxs)("span",{className:"text-xs px-2 py-0.5 rounded-full bg-amber-500/20 text-amber-400 border border-amber-500/30",children:[(0,b.jsx)(j.Building2,{className:"w-3 h-3 inline mr-1"}),a.brand.brand_name]}),(0,b.jsx)(P,{count:a.revision_count}),(0,b.jsx)("div",{className:"flex-1"}),(0,b.jsxs)("div",{className:"flex items-center gap-1 opacity-50 group-hover:opacity-100 transition-opacity",children:[(0,b.jsx)("button",{onClick:b=>{b.stopPropagation(),p(a)},className:"p-1.5 rounded-lg hover:bg-white/10 text-zinc-400 hover:text-zinc-200 transition-colors",children:(0,b.jsx)(m,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:b=>{b.stopPropagation(),q(a)},className:"p-1.5 rounded-lg hover:bg-rose-500/20 text-zinc-400 hover:text-rose-400 transition-colors",children:(0,b.jsx)(k.Trash2,{className:"w-4 h-4"})})]})]}),(0,b.jsx)("h3",{className:"text-base font-semibold text-white mb-2",children:a.description}),(0,b.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-zinc-400",children:[(0,b.jsx)(r.Clock,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"font-mono text-sm",children:L(a.start_time)}),(0,b.jsx)("span",{className:"text-zinc-600",children:"→"}),a.end_time?(0,b.jsx)("span",{className:"font-mono text-sm",children:L(a.end_time)}):(0,b.jsx)("span",{className:"text-zinc-600 font-mono",children:"..."})]}),"active"===a.status?(0,b.jsx)("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-lg bg-emerald-500/20 text-emerald-400 font-mono text-sm font-semibold",children:J(s)}):"completed"===a.status?(0,b.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-lg bg-emerald-500/10 text-emerald-400 font-mono text-sm",children:[(0,b.jsx)(n.Check,{className:"w-3 h-3"}),J(a.total_duration)]}):(0,b.jsx)("span",{className:"px-2 py-0.5 rounded-lg bg-white/5 text-zinc-400 font-mono text-sm",children:J(a.total_duration)}),a.revision_count>0&&(0,b.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-lg bg-rose-500/10 text-rose-400 font-mono text-sm",children:[(0,b.jsx)(w.RefreshCw,{className:"w-3 h-3"}),"R",a.revision_count]})]})]}),x&&(0,b.jsxs)("div",{className:"border-t border-white/10 p-5 space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(H.History,{className:"w-4 h-4 text-zinc-500"}),(0,b.jsx)("span",{className:"text-zinc-400",children:"Başlangıç:"}),(0,b.jsx)("span",{className:"font-mono text-white",children:L(a.start_time)})]}),a.end_time&&(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-zinc-400",children:"Bitiş:"}),(0,b.jsx)("span",{className:"font-mono text-white",children:L(a.end_time)})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-zinc-400",children:"Toplam:"}),(0,b.jsx)("span",{className:"font-mono font-semibold text-cyan-400",children:J(a.total_duration)})]})]}),z.length>0&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-zinc-400",children:[(0,b.jsx)(w.RefreshCw,{className:"w-4 h-4 text-rose-400"}),(0,b.jsx)("span",{children:"Revize Geçmişi"})]}),(0,b.jsx)("div",{className:"space-y-2 pl-6",children:z.map(a=>(0,b.jsxs)("div",{className:"flex items-start gap-3 text-sm",children:[(0,b.jsxs)("span",{className:"px-2 py-0.5 rounded-full bg-rose-500/20 text-rose-400 text-xs font-medium",children:["R",a.revision_number]}),(0,b.jsxs)("div",{className:"flex-1",children:[a.note?(0,b.jsx)("p",{className:"text-zinc-300",children:a.note}):(0,b.jsx)("p",{className:"text-zinc-500 italic",children:"Not girilmedi"}),(0,b.jsxs)("p",{className:"text-xs text-zinc-500 mt-0.5",children:[L(a.start_time),a.duration>0&&` • ${J(a.duration)}`]})]})]},a.id))})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 pt-2",children:["active"===a.status&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("button",{onClick:b=>{b.stopPropagation(),g(a)},className:"flex items-center gap-1.5 px-3 py-1.5 rounded-xl bg-amber-500/10 border border-amber-500/30 text-amber-400 text-xs font-medium hover:bg-amber-500/20 transition-colors",children:[(0,b.jsx)(u,{className:"w-3 h-3"}),"Beklet"]}),(0,b.jsxs)("button",{onClick:b=>{b.stopPropagation(),i(a)},className:"flex items-center gap-1.5 px-3 py-1.5 rounded-xl bg-emerald-500 text-white text-xs font-medium hover:bg-emerald-600 transition-colors",children:[(0,b.jsx)(n.Check,{className:"w-3 h-3"}),"Bitti"]})]}),"paused"===a.status&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("button",{onClick:b=>{b.stopPropagation(),h(a)},className:"flex items-center gap-1.5 px-3 py-1.5 rounded-xl bg-emerald-500/10 border border-emerald-500/30 text-emerald-400 text-xs font-medium hover:bg-emerald-500/20 transition-colors",children:[(0,b.jsx)(v,{className:"w-3 h-3"}),"Devam Et"]}),(0,b.jsxs)("button",{onClick:b=>{b.stopPropagation(),i(a)},className:"flex items-center gap-1.5 px-3 py-1.5 rounded-xl bg-emerald-500 text-white text-xs font-medium hover:bg-emerald-600 transition-colors",children:[(0,b.jsx)(n.Check,{className:"w-3 h-3"}),"Bitti"]})]}),"completed"===a.status&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("button",{onClick:b=>{b.stopPropagation(),l(a)},className:"flex items-center gap-1.5 px-3 py-1.5 rounded-xl bg-rose-500/10 border border-rose-500/30 text-rose-400 text-xs font-medium hover:bg-rose-500/20 transition-colors",children:[(0,b.jsx)(w.RefreshCw,{className:"w-3 h-3"}),"Revize Başlat"]}),(0,b.jsxs)("button",{onClick:b=>{b.stopPropagation(),o(a)},className:"flex items-center gap-1.5 px-3 py-1.5 rounded-xl bg-amber-500/10 border border-amber-500/30 text-amber-400 text-xs font-medium hover:bg-amber-500/20 transition-colors",children:[(0,b.jsx)(G,{className:"w-3 h-3"}),"Yenile"]})]})]})]})]})}function T({task:a,onClose:d,onSubmit:e}){let[f,g]=(0,c.useState)(""),[h,i]=(0,c.useState)(!1),j=async a=>{a.preventDefault(),i(!0),await e(f),i(!1)};return(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:(0,b.jsxs)("div",{className:"w-full max-w-md rounded-2xl border border-white/10 shadow-2xl",style:{backgroundColor:"#18181b"},children:[(0,b.jsxs)("div",{className:"px-6 py-4 border-b border-white/10",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Revize Başlat"}),(0,b.jsx)("p",{className:"text-sm text-zinc-400 mt-1",children:a.description})]}),(0,b.jsxs)("form",{onSubmit:j,children:[(0,b.jsxs)("div",{className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:["Revize Notu ",(0,b.jsx)("span",{className:"text-zinc-500",children:"(Opsiyonel)"})]}),(0,b.jsx)("textarea",{value:f,onChange:a=>g(a.target.value),placeholder:"Müşteri geri bildirimi, değişiklik detayı...",rows:3,className:"w-full px-4 py-3 rounded-xl text-sm text-white bg-white/5 border border-white/10 placeholder:text-zinc-500 focus:outline-none focus:border-indigo-500/50 focus:ring-2 focus:ring-indigo-500/20 resize-none transition-all"})]}),(0,b.jsx)("div",{className:"p-3 rounded-xl bg-rose-500/10 border border-rose-500/20",children:(0,b.jsxs)("p",{className:"text-xs text-rose-400",children:[(0,b.jsx)(w.RefreshCw,{className:"w-3 h-3 inline mr-1"}),"Revize başlatıldığında görev tekrar aktif olacak ve sayaç devam edecek."]})})]}),(0,b.jsxs)("div",{className:"px-6 py-4 border-t border-white/10 flex justify-end gap-3",children:[(0,b.jsx)("button",{type:"button",onClick:d,className:"h-11 px-5 rounded-xl text-sm font-medium bg-white/5 border border-white/10 text-zinc-300 hover:bg-white/10 active:scale-[0.98] transition-all",children:"İptal"}),(0,b.jsxs)("button",{type:"submit",disabled:h,className:"h-11 px-5 rounded-xl text-white text-sm font-medium bg-gradient-to-r from-rose-600 to-pink-600 shadow-lg shadow-rose-500/25 hover:shadow-rose-500/40 active:scale-[0.98] transition-all disabled:opacity-50 flex items-center gap-2",children:[h?(0,b.jsx)(o.Loader2,{className:"w-4 h-4 animate-spin"}):(0,b.jsx)(w.RefreshCw,{className:"w-4 h-4"}),"Revize Başlat"]})]})]})]})})}function U({tasks:a,users:c}){let d=c.map(b=>{let c=a.filter(a=>a.user_id===b.id);return{user:b,totalDuration:c.reduce((a,b)=>a+(b.total_duration||0),0),taskCount:c.length}}).filter(a=>a.taskCount>0).sort((a,b)=>b.totalDuration-a.totalDuration),e={};a.forEach(a=>{let b=a.brand?.brand_name||"Genel";e[b]||(e[b]={name:b,duration:0}),e[b].duration+=a.total_duration||0});let f=Object.values(e).sort((a,b)=>b.duration-a.duration).slice(0,5),g=f.reduce((a,b)=>a+b.duration,0),h=a.reduce((a,b)=>a+b.revision_count,0),i=a.filter(a=>a.revision_count>0),j=a.length>0?(h/a.length).toFixed(1):"0",k={};a.forEach(a=>{if(a.revision_count>0){let b=a.brand?.brand_name||"Genel";k[b]||(k[b]={name:b,count:0}),k[b].count+=a.revision_count}});let l=Object.values(k).sort((a,b)=>b.count-a.count)[0],m=Math.max(...d.map(a=>a.totalDuration),1),n=["from-rose-500 to-pink-500","from-violet-500 to-purple-500","from-cyan-500 to-blue-500","from-amber-500 to-orange-500","from-emerald-500 to-teal-500"],o=["from-amber-500 to-orange-500","from-cyan-500 to-blue-500","from-violet-500 to-purple-500","from-emerald-500 to-teal-500","from-rose-500 to-pink-500"];return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"glass-card rounded-2xl p-5 border border-white/10",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(x.Trophy,{className:"w-5 h-5 text-amber-400"}),(0,b.jsx)("h3",{className:"font-semibold text-white",children:"Bugün Performans"})]}),(0,b.jsx)("div",{className:"space-y-3",children:0===d.length?(0,b.jsx)("p",{className:"text-sm text-zinc-500",children:"Henüz veri yok"}):d.slice(0,5).map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:`h-8 w-8 rounded-full bg-gradient-to-br ${O(a.user.full_name)} flex items-center justify-center flex-shrink-0`,children:(0,b.jsx)("span",{className:"text-white text-xs font-bold",children:a.user.full_name?.charAt(0)||"?"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,b.jsx)("span",{className:"text-sm text-white",children:a.user.full_name?.split(" ")[0]}),(0,b.jsx)("span",{className:"text-xs font-mono text-zinc-400",children:J(a.totalDuration)})]}),(0,b.jsx)("div",{className:"h-2 rounded-full bg-white/10",children:(0,b.jsx)("div",{className:`h-full rounded-full bg-gradient-to-r ${n[c%n.length]}`,style:{width:`${a.totalDuration/m*100}%`}})})]})]},a.user.id))})]}),(0,b.jsxs)("div",{className:"glass-card rounded-2xl p-5 border border-white/10",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(y.PieChart,{className:"w-5 h-5 text-violet-400"}),(0,b.jsx)("h3",{className:"font-semibold text-white",children:"Marka Dağılımı"})]}),(0,b.jsx)("div",{className:"space-y-3",children:0===f.length?(0,b.jsx)("p",{className:"text-sm text-zinc-500",children:"Henüz veri yok"}):f.map((a,c)=>{let d=g>0?Math.round(a.duration/g*100):0;return(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,b.jsx)("span",{className:"text-sm text-zinc-400",children:a.name}),(0,b.jsxs)("span",{className:"text-xs font-mono text-zinc-500",children:[J(a.duration)," (",d,"%)"]})]}),(0,b.jsx)("div",{className:"h-2 rounded-full bg-white/10",children:(0,b.jsx)("div",{className:`h-full rounded-full bg-gradient-to-r ${o[c%o.length]}`,style:{width:`${d}%`}})})]},a.name)})})]}),(0,b.jsxs)("div",{className:"glass-card rounded-2xl p-5 border border-white/10",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(z.AlertTriangle,{className:"w-5 h-5 text-rose-400"}),(0,b.jsx)("h3",{className:"font-semibold text-white",children:"Revize Durumu"})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-full bg-rose-500/10 border border-rose-500/20",children:[(0,b.jsx)("span",{className:"text-sm text-white ml-2",children:"Bugün Revize"}),(0,b.jsx)("span",{className:"text-lg font-bold text-rose-400 mr-2",children:h})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-zinc-400",children:"Revizeli İş"}),(0,b.jsx)("span",{className:"text-sm font-mono font-semibold text-zinc-300",children:i.length})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-zinc-400",children:"Ort. Revize / İş"}),(0,b.jsx)("span",{className:"text-sm font-mono font-semibold text-zinc-300",children:j})]}),l&&(0,b.jsxs)("div",{className:"pt-3 border-t border-white/10",children:[(0,b.jsx)("p",{className:"text-xs text-zinc-500 mb-2",children:"En Çok Revize Alan"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-xs px-2 py-1 rounded-full bg-cyan-500/20 text-cyan-400",children:l.name}),(0,b.jsxs)("span",{className:"text-xs text-rose-400",children:[l.count," revize"]})]})]})]})]})]})}function V({tasks:a,allMonthTasks:c,categories:d}){let e=c.length,g=c.reduce((a,b)=>a+(b.total_duration||0),0),h=c.reduce((a,b)=>a+b.revision_count,0),i=new Set(c.map(a=>a.work_date)).size,j=i>0?Math.floor(g/i):0,k={};c.forEach(a=>{let b=a.brand?.brand_name||"Genel";k[b]||(k[b]={name:b,duration:0}),k[b].duration+=a.total_duration||0});let l=Object.values(k).sort((a,b)=>b.duration-a.duration).slice(0,5),m=l.reduce((a,b)=>a+b.duration,0),n={};c.forEach(a=>{let b=a.category?.name||"Genel",c=a.category?.slug||"genel";n[c]||(n[c]={name:b,slug:c,count:0}),n[c].count++});let o=Object.values(n).sort((a,b)=>b.count-a.count),p=["from-amber-500 to-orange-500","from-cyan-500 to-blue-500","from-violet-500 to-purple-500","from-emerald-500 to-teal-500","from-rose-500 to-pink-500"];return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"glass-card rounded-2xl p-5 border border-white/10",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(E.BarChart3,{className:"w-5 h-5 text-indigo-400"}),(0,b.jsx)("h3",{className:"font-semibold text-white",children:"Bu Ay Özetim"})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-zinc-400",children:"Toplam İş"}),(0,b.jsxs)("span",{className:"text-sm font-mono font-bold text-white",children:[e," iş"]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-zinc-400",children:"Toplam Süre"}),(0,b.jsx)("span",{className:"text-sm font-mono font-bold text-white",children:K(g)})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-zinc-400",children:"Ortalama / Gün"}),(0,b.jsx)("span",{className:"text-sm font-mono font-bold text-white",children:J(j)})]}),(0,b.jsx)("div",{className:"h-px bg-white/10 my-2"}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-zinc-400",children:"Revize Sayısı"}),(0,b.jsx)("span",{className:"text-sm font-mono font-bold text-rose-400",children:h})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-zinc-400",children:"Revize Süresi"}),(0,b.jsx)("span",{className:"text-sm font-mono font-bold text-rose-400",children:J(35*h*60)})]})]})]}),(0,b.jsxs)("div",{className:"glass-card rounded-2xl p-5 border border-white/10",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(y.PieChart,{className:"w-5 h-5 text-violet-400"}),(0,b.jsx)("h3",{className:"font-semibold text-white",children:"Marka Dağılımı"})]}),(0,b.jsx)("div",{className:"space-y-3",children:0===l.length?(0,b.jsx)("p",{className:"text-sm text-zinc-500",children:"Henüz veri yok"}):l.map((a,c)=>{let d=m>0?Math.round(a.duration/m*100):0;return(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,b.jsx)("span",{className:"text-sm text-zinc-400",children:a.name}),(0,b.jsxs)("span",{className:"text-xs font-mono text-zinc-500",children:[K(a.duration)," (",d,"%)"]})]}),(0,b.jsx)("div",{className:"h-2 rounded-full bg-white/10",children:(0,b.jsx)("div",{className:`h-full rounded-full bg-gradient-to-r ${p[c%p.length]}`,style:{width:`${d}%`}})})]},a.name)})})]}),(0,b.jsxs)("div",{className:"glass-card rounded-2xl p-5 border border-white/10",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(F,{className:"w-5 h-5 text-cyan-400"}),(0,b.jsx)("h3",{className:"font-semibold text-white",children:"Kategori Dağılımı"})]}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:0===o.length?(0,b.jsx)("p",{className:"text-sm text-zinc-500",children:"Henüz veri yok"}):o.map(a=>{let c=f.CATEGORY_COLORS[a.slug]||f.CATEGORY_COLORS.genel;return(0,b.jsxs)("span",{className:`text-xs px-2.5 py-1 rounded-full ${c.bg} ${c.text} border ${c.border}`,children:[a.name," ",(0,b.jsx)("span",{className:"font-mono font-bold",children:a.count})]},a.slug)})})]})]})}function W(){let{appUser:a,isAdmin:j}=(0,d.useAuth)(),[k,l]=(0,c.useState)([]),[m,u]=(0,c.useState)([]),[v,x]=(0,c.useState)([]),[y,z]=(0,c.useState)([]),[E,F]=(0,c.useState)([]),[G,H]=(0,c.useState)([]),[K,L]=(0,c.useState)(!0),[P,Q]=(0,c.useState)(new Date().toISOString().split("T")[0]),[W,X]=(0,c.useState)("all"),[Y,Z]=(0,c.useState)("all"),[$,_]=(0,c.useState)(!1),[aa,ab]=(0,c.useState)(!1),[ac,ad]=(0,c.useState)(null),[ae,af]=(0,c.useState)(null),[ag,ah]=(0,c.useState)({brand_id:"",category_id:"",description:""}),[ai,aj]=(0,c.useState)(!1),ak=(0,e.createClient)(),al=(0,c.useCallback)(async()=>{L(!0);try{let{data:b}=await ak.from("task_categories").select("*").eq("is_active",!0).order("sort_order");b&&z(b);let{data:c}=await ak.from("customers").select("id, brand_name").eq("status","active").order("brand_name");if(c&&F(c),j){let{data:a}=await ak.from("users").select("*").eq("is_active",!0).neq("role","admin").order("full_name");a&&H(a)}let d=ak.from("daily_tasks").select(`
          *,
          category:task_categories(*),
          brand:customers(id, brand_name),
          user:users(id, full_name, email, role)
        `).eq("work_date",P).order("created_at",{ascending:!1});!j&&a?d=d.eq("user_id",a.id):"all"!==W&&(d=d.eq("user_id",W)),"all"!==Y&&(d=d.eq("brand_id",Y));let{data:e}=await d;if(e){l(e);let a=e.map(a=>a.id);if(a.length>0){let{data:b}=await ak.from("task_revisions").select("*").in("task_id",a).order("revision_number");b&&u(b)}else u([])}if(!j&&a){let b=new Date(P),c=new Date(b.getFullYear(),b.getMonth(),1).toISOString().split("T")[0],d=new Date(b.getFullYear(),b.getMonth()+1,0).toISOString().split("T")[0],{data:e}=await ak.from("daily_tasks").select(`
            *,
            category:task_categories(*),
            brand:customers(id, brand_name)
          `).eq("user_id",a.id).gte("work_date",c).lte("work_date",d);e&&x(e)}}catch(a){console.error("Fetch error:",a)}finally{L(!1)}},[P,W,Y,j,a,ak]);(0,c.useEffect)(()=>{al()},[al]);let am={total:k.length,completed:k.filter(a=>"completed"===a.status).length,active:k.filter(a=>"active"===a.status).length,revisions:k.reduce((a,b)=>a+b.revision_count,0),totalDuration:k.reduce((a,b)=>a+(b.total_duration||0),0)},an=async b=>{if(b.preventDefault(),a&&ag.category_id&&ag.description.trim()){aj(!0);try{ae?await ak.from("daily_tasks").update({brand_id:ag.brand_id||null,category_id:ag.category_id,description:ag.description.trim()}).eq("id",ae.id):await ak.from("daily_tasks").insert({user_id:a.id,brand_id:ag.brand_id||null,category_id:ag.category_id,description:ag.description.trim(),status:"active",start_time:new Date().toISOString(),total_duration:0,revision_count:0,work_date:P}),_(!1),af(null),ah({brand_id:"",category_id:"",description:""}),al()}catch(a){console.error("Save error:",a)}finally{aj(!1)}}},ao=async a=>{let b=new Date,c=new Date(a.start_time).getTime(),d=Math.floor((b.getTime()-c)/1e3);await ak.from("daily_tasks").update({status:"paused",paused_at:b.toISOString(),total_duration:(a.total_duration||0)+d}).eq("id",a.id),al()},ap=async a=>{await ak.from("daily_tasks").update({status:"active",start_time:new Date().toISOString(),paused_at:null}).eq("id",a.id),al()},aq=async a=>{let b=new Date,c=a.total_duration||0;if("active"===a.status){let d=new Date(a.start_time).getTime();c+=Math.floor((b.getTime()-d)/1e3)}await ak.from("daily_tasks").update({status:"completed",end_time:b.toISOString(),total_duration:c}).eq("id",a.id),al()},ar=a=>{ad(a),ab(!0)},as=async a=>{if(!ac)return;let b=new Date;await ak.from("daily_tasks").update({status:"active",start_time:b.toISOString(),end_time:null,revision_count:ac.revision_count+1}).eq("id",ac.id),await ak.from("task_revisions").insert({task_id:ac.id,revision_number:ac.revision_count+1,note:a||null,start_time:b.toISOString(),duration:0}),ab(!1),ad(null),al()},at=async a=>{await ak.from("daily_tasks").update({status:"active",start_time:new Date().toISOString(),end_time:null}).eq("id",a.id),al()},au=async a=>{confirm("Bu işi silmek istediğine emin misin?")&&(await ak.from("daily_tasks").delete().eq("id",a.id),al())},av=a=>{af(a),ah({brand_id:a.brand_id||"",category_id:a.category_id,description:a.description}),_(!0)},aw=a=>{let b=new Date(P);b.setDate(b.getDate()+a),Q(b.toISOString().split("T")[0])},ax=()=>{Q(new Date().toISOString().split("T")[0])};return j?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Günlük İşler"}),(0,b.jsx)("p",{className:"text-sm text-zinc-400",children:"Tüm personelin günlük iş kayıtları"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)(I.Button,{onClick:()=>{alert("Excel export özelliği yakında eklenecek!")},className:"bg-emerald-500 hover:bg-emerald-600 text-white",children:[(0,b.jsx)(A.Download,{className:"w-4 h-4 mr-2"}),"Excel İndir"]}),(0,b.jsxs)(I.Button,{onClick:()=>{af(null),ah({brand_id:"",category_id:"",description:""}),_(!0)},className:"bg-gradient-to-r from-indigo-500 to-violet-500 hover:from-indigo-600 hover:to-violet-600 text-white",children:[(0,b.jsx)(h.Plus,{className:"w-4 h-4 mr-2"}),"İş Ekle"]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-5 gap-4",children:[(0,b.jsx)(R,{icon:(0,b.jsx)(B.ListChecks,{className:"w-5 h-5"}),value:am.total,label:"Toplam İş",color:"indigo"}),(0,b.jsx)(R,{icon:(0,b.jsx)(q.CheckCircle,{className:"w-5 h-5"}),value:am.completed,label:"Tamamlanan",color:"emerald"}),(0,b.jsx)(R,{icon:(0,b.jsx)(C,{className:"w-5 h-5"}),value:am.active,label:"Devam Eden",color:"amber",subtitle:"Şu an"}),(0,b.jsx)(R,{icon:(0,b.jsx)(w.RefreshCw,{className:"w-5 h-5"}),value:am.revisions,label:"Revize",color:"rose"}),(0,b.jsx)(R,{icon:(0,b.jsx)(r.Clock,{className:"w-5 h-5"}),value:J(am.totalDuration),label:"Toplam Süre",color:"cyan"})]}),(0,b.jsx)("div",{className:"glass-card rounded-2xl p-4 border border-white/10 glow-violet",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("button",{onClick:()=>aw(-1),className:"p-1.5 rounded-lg bg-white/5 border border-white/10 text-zinc-400 hover:text-white hover:bg-white/10 transition-all",children:(0,b.jsx)(s.ChevronLeft,{className:"w-4 h-4"})}),(0,b.jsxs)("button",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-white/5 border border-white/10 text-white hover:bg-white/10 transition-all",children:[(0,b.jsx)(i.Calendar,{className:"w-4 h-4 text-indigo-400"}),(0,b.jsx)("span",{className:"font-semibold",children:N(P)})]}),(0,b.jsx)("button",{onClick:()=>aw(1),className:"p-1.5 rounded-lg bg-white/5 border border-white/10 text-zinc-400 hover:text-white hover:bg-white/10 transition-all",children:(0,b.jsx)(t.ChevronRight,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:ax,className:"ml-2 px-2.5 py-1 rounded-lg bg-indigo-500/20 border border-indigo-500/30 text-indigo-400 text-xs font-medium hover:bg-indigo-500/30 transition-all",children:"Bugün"}),(0,b.jsx)("div",{className:"w-px h-8 bg-white/10"}),(0,b.jsx)("span",{className:"text-zinc-400",children:M(P)})]}),(0,b.jsxs)("button",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-white/5 border border-white/10 text-zinc-300 hover:bg-white/10 transition-all",children:[(0,b.jsx)(i.Calendar,{className:"w-4 h-4 text-zinc-500"}),(0,b.jsx)("span",{className:"text-sm",children:new Date(P).toLocaleDateString("tr-TR",{month:"long",year:"numeric"})}),(0,b.jsx)(D.ChevronDown,{className:"w-4 h-4 text-zinc-500"})]})]})}),(0,b.jsx)("div",{className:"glass-card rounded-xl p-4 border border-white/10",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(p.Users,{className:"w-4 h-4 text-zinc-500"}),(0,b.jsx)("span",{className:"text-sm text-zinc-400",children:"Personel:"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,b.jsxs)("button",{onClick:()=>X("all"),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${"all"===W?"bg-indigo-500/20 border border-indigo-500/30 text-indigo-400":"bg-white/5 border border-white/10 text-zinc-400 hover:bg-white/10"}`,children:[(0,b.jsx)(p.Users,{className:"w-4 h-4"}),"Tümü"]}),G.map(a=>{let c;return(0,b.jsxs)("button",{onClick:()=>X(a.id),className:`flex items-center gap-2 px-2 py-1 rounded-lg transition-all ${W===a.id?"bg-indigo-500/20 border border-indigo-500/30":"bg-white/5 border border-white/10 hover:bg-white/10"}`,children:[(0,b.jsx)("div",{className:`h-6 w-6 rounded-full bg-gradient-to-br ${O(a.full_name)} flex items-center justify-center`,children:(0,b.jsx)("span",{className:"text-white text-[10px] font-bold",children:a.full_name?.charAt(0)||"?"})}),(0,b.jsx)("span",{className:"text-xs text-zinc-300",children:a.full_name?.split(" ")[0]}),(0,b.jsx)("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-emerald-500/20 text-emerald-400",children:(c=a.id,k.filter(a=>a.user_id===c).length)})]},a.id)})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-sm text-zinc-500",children:"Marka:"}),(0,b.jsxs)(g.Select,{value:Y,onValueChange:Z,children:[(0,b.jsx)(g.SelectTrigger,{className:"w-[180px] h-10 rounded-xl bg-white/5 border-white/10 text-zinc-300 text-sm",children:(0,b.jsx)(g.SelectValue,{placeholder:"Tümü"})}),(0,b.jsxs)(g.SelectContent,{children:[(0,b.jsx)(g.SelectItem,{value:"all",children:"Tümü"}),E.map(a=>(0,b.jsx)(g.SelectItem,{value:a.id,children:a.brand_name},a.id))]})]})]})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[(0,b.jsx)("div",{className:"col-span-2 space-y-3",children:K?(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsx)(o.Loader2,{className:"w-8 h-8 animate-spin text-indigo-500"})}):0===k.length?(0,b.jsxs)("div",{className:"text-center py-12 glass-card rounded-2xl border border-white/10",children:[(0,b.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-zinc-800 flex items-center justify-center",children:(0,b.jsx)(i.Calendar,{className:"w-8 h-8 text-zinc-600"})}),(0,b.jsx)("p",{className:"text-zinc-400",children:"Bu tarihte kayıtlı iş yok"}),(0,b.jsxs)(I.Button,{onClick:()=>{af(null),ah({brand_id:"",category_id:"",description:""}),_(!0)},className:"mt-4 bg-gradient-to-r from-indigo-500 to-violet-500 hover:from-indigo-600 hover:to-violet-600",children:[(0,b.jsx)(h.Plus,{className:"w-4 h-4 mr-2"}),"İlk İşi Ekle"]})]}):k.map(a=>(0,b.jsx)(S,{task:a,isAdmin:j,revisions:m,onPause:ao,onResume:ap,onComplete:aq,onStartRevision:ar,onReopen:at,onEdit:av,onDelete:au},a.id))}),(0,b.jsx)(U,{tasks:k,users:G})]}),$&&(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:(0,b.jsxs)("div",{className:"w-full max-w-md rounded-2xl border border-white/10 shadow-2xl",style:{backgroundColor:"#18181b"},children:[(0,b.jsx)("div",{className:"px-6 py-4 border-b border-white/10",children:(0,b.jsx)("h2",{className:"text-lg font-semibold text-white",children:ae?"İşi Düzenle":"Yeni İş Ekle"})}),(0,b.jsxs)("form",{onSubmit:an,children:[(0,b.jsxs)("div",{className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:["Marka ",(0,b.jsx)("span",{className:"text-zinc-500",children:"(Opsiyonel)"})]}),(0,b.jsxs)(g.Select,{value:ag.brand_id||"none",onValueChange:a=>ah({...ag,brand_id:"none"===a?"":a}),children:[(0,b.jsx)(g.SelectTrigger,{className:"w-full h-11 rounded-xl bg-white/5 border-white/10 text-white",children:(0,b.jsx)(g.SelectValue,{placeholder:"Genel"})}),(0,b.jsxs)(g.SelectContent,{children:[(0,b.jsx)(g.SelectItem,{value:"none",children:"Genel"}),E.map(a=>(0,b.jsx)(g.SelectItem,{value:a.id,children:a.brand_name},a.id))]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:["Kategori ",(0,b.jsx)("span",{className:"text-rose-400",children:"*"})]}),(0,b.jsx)("div",{className:"grid grid-cols-3 gap-2",children:y.map(a=>{let c=f.CATEGORY_COLORS[a.slug]||f.CATEGORY_COLORS.genel;return(0,b.jsx)("button",{type:"button",onClick:()=>ah({...ag,category_id:a.id}),className:`px-3 py-2 rounded-xl text-xs font-medium transition-all ${c.bg} ${c.text} border ${c.border} ${ag.category_id===a.id?"ring-2 ring-indigo-500 ring-offset-2 ring-offset-[#18181b]":"hover:opacity-80"}`,children:a.name},a.id)})})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:["Açıklama ",(0,b.jsx)("span",{className:"text-rose-400",children:"*"})]}),(0,b.jsx)("textarea",{value:ag.description,onChange:a=>ah({...ag,description:a.target.value}),placeholder:"Ne yapıyorsun?",rows:3,className:"w-full px-4 py-3 rounded-xl text-sm text-white bg-white/5 border border-white/10 placeholder:text-zinc-500 focus:outline-none focus:border-indigo-500/50 focus:ring-2 focus:ring-indigo-500/20 resize-none transition-all",required:!0})]})]}),(0,b.jsxs)("div",{className:"px-6 py-4 border-t border-white/10 flex justify-end gap-3",children:[(0,b.jsx)("button",{type:"button",onClick:()=>_(!1),className:"h-11 px-5 rounded-xl text-sm font-medium bg-white/5 border border-white/10 text-zinc-300 hover:bg-white/10 active:scale-[0.98] transition-all",children:"İptal"}),(0,b.jsxs)("button",{type:"submit",disabled:ai||!ag.category_id||!ag.description.trim(),className:"h-11 px-5 rounded-xl text-white text-sm font-medium bg-gradient-to-r from-indigo-600 to-violet-600 shadow-lg shadow-indigo-500/25 hover:shadow-indigo-500/40 active:scale-[0.98] transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[ai?(0,b.jsx)(o.Loader2,{className:"w-4 h-4 animate-spin"}):(0,b.jsx)(n.Check,{className:"w-4 h-4"}),ae?"Güncelle":"Başlat"]})]})]})]})}),aa&&ac&&(0,b.jsx)(T,{task:ac,onClose:()=>{ab(!1),ad(null)},onSubmit:as})]}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Günlük İşler"}),(0,b.jsx)("p",{className:"text-sm text-zinc-400",children:"Günlük iş kayıtlarım"})]}),(0,b.jsxs)(I.Button,{onClick:()=>{af(null),ah({brand_id:"",category_id:"",description:""}),_(!0)},className:"bg-gradient-to-r from-indigo-500 to-violet-500 hover:from-indigo-600 hover:to-violet-600 text-white",children:[(0,b.jsx)(h.Plus,{className:"w-4 h-4 mr-2"}),"İş Ekle"]})]}),(0,b.jsx)("div",{className:"glass-card rounded-2xl p-4 border border-white/10 glow-violet",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("button",{onClick:()=>aw(-1),className:"p-1.5 rounded-lg bg-white/5 border border-white/10 text-zinc-400 hover:text-white hover:bg-white/10 transition-all",children:(0,b.jsx)(s.ChevronLeft,{className:"w-4 h-4"})}),(0,b.jsxs)("button",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-white/5 border border-white/10 text-white hover:bg-white/10 transition-all",children:[(0,b.jsx)(i.Calendar,{className:"w-4 h-4 text-indigo-400"}),(0,b.jsx)("span",{className:"font-semibold",children:N(P)})]}),(0,b.jsx)("button",{onClick:()=>aw(1),className:"p-1.5 rounded-lg bg-white/5 border border-white/10 text-zinc-400 hover:text-white hover:bg-white/10 transition-all",children:(0,b.jsx)(t.ChevronRight,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:ax,className:"ml-2 px-2.5 py-1 rounded-lg bg-indigo-500/20 border border-indigo-500/30 text-indigo-400 text-xs font-medium hover:bg-indigo-500/30 transition-all",children:"Bugün"}),(0,b.jsx)("div",{className:"w-px h-8 bg-white/10"}),(0,b.jsx)("span",{className:"text-zinc-400",children:M(P)})]}),(0,b.jsxs)("div",{className:"flex items-center gap-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(B.ListChecks,{className:"w-4 h-4 text-indigo-400"}),(0,b.jsx)("span",{className:"text-sm text-zinc-400",children:"Bugün:"}),(0,b.jsxs)("span",{className:"text-sm font-bold text-white",children:[am.total," iş"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(r.Clock,{className:"w-4 h-4 text-cyan-400"}),(0,b.jsx)("span",{className:"text-sm text-zinc-400",children:"Toplam:"}),(0,b.jsx)("span",{className:"text-sm font-bold text-white",children:J(am.totalDuration)})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(w.RefreshCw,{className:"w-4 h-4 text-rose-400"}),(0,b.jsx)("span",{className:"text-sm text-zinc-400",children:"Revize:"}),(0,b.jsx)("span",{className:"text-sm font-bold text-rose-400",children:am.revisions})]})]})]})}),(0,b.jsx)("div",{className:"glass-card rounded-xl p-3 border border-white/10",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(p.Users,{className:"w-4 h-4 text-zinc-500"}),(0,b.jsx)("span",{className:"text-sm text-zinc-400",children:"Personel:"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:`h-6 w-6 rounded-full bg-gradient-to-br ${O(a?.full_name||null)} flex items-center justify-center`,children:(0,b.jsx)("span",{className:"text-white text-[10px] font-bold",children:a?.full_name?.charAt(0)||"?"})}),(0,b.jsx)("span",{className:"text-sm font-medium text-white",children:a?.full_name}),(0,b.jsxs)("span",{className:"text-xs px-2 py-0.5 rounded bg-emerald-500/20 text-emerald-400",children:[am.total," iş"]})]})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[(0,b.jsx)("div",{className:"col-span-2 space-y-3",children:K?(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsx)(o.Loader2,{className:"w-8 h-8 animate-spin text-indigo-500"})}):0===k.length?(0,b.jsxs)("div",{className:"text-center py-12 glass-card rounded-2xl border border-white/10",children:[(0,b.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-zinc-800 flex items-center justify-center",children:(0,b.jsx)(i.Calendar,{className:"w-8 h-8 text-zinc-600"})}),(0,b.jsx)("p",{className:"text-zinc-400",children:"Bu tarihte kayıtlı iş yok"}),(0,b.jsxs)(I.Button,{onClick:()=>{af(null),ah({brand_id:"",category_id:"",description:""}),_(!0)},className:"mt-4 bg-gradient-to-r from-indigo-500 to-violet-500 hover:from-indigo-600 hover:to-violet-600",children:[(0,b.jsx)(h.Plus,{className:"w-4 h-4 mr-2"}),"İlk İşi Ekle"]})]}):k.map(a=>(0,b.jsx)(S,{task:a,isAdmin:!1,revisions:m,onPause:ao,onResume:ap,onComplete:aq,onStartRevision:ar,onReopen:at,onEdit:av,onDelete:au},a.id))}),(0,b.jsx)(V,{tasks:k,allMonthTasks:v,categories:y})]}),$&&(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:(0,b.jsxs)("div",{className:"w-full max-w-md rounded-2xl border border-white/10 shadow-2xl",style:{backgroundColor:"#18181b"},children:[(0,b.jsx)("div",{className:"px-6 py-4 border-b border-white/10",children:(0,b.jsx)("h2",{className:"text-lg font-semibold text-white",children:ae?"İşi Düzenle":"Yeni İş Ekle"})}),(0,b.jsxs)("form",{onSubmit:an,children:[(0,b.jsxs)("div",{className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:["Marka ",(0,b.jsx)("span",{className:"text-zinc-500",children:"(Opsiyonel)"})]}),(0,b.jsxs)(g.Select,{value:ag.brand_id||"none",onValueChange:a=>ah({...ag,brand_id:"none"===a?"":a}),children:[(0,b.jsx)(g.SelectTrigger,{className:"w-full h-11 rounded-xl bg-white/5 border-white/10 text-white",children:(0,b.jsx)(g.SelectValue,{placeholder:"Genel"})}),(0,b.jsxs)(g.SelectContent,{children:[(0,b.jsx)(g.SelectItem,{value:"none",children:"Genel"}),E.map(a=>(0,b.jsx)(g.SelectItem,{value:a.id,children:a.brand_name},a.id))]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:["Kategori ",(0,b.jsx)("span",{className:"text-rose-400",children:"*"})]}),(0,b.jsx)("div",{className:"grid grid-cols-3 gap-2",children:y.map(a=>{let c=f.CATEGORY_COLORS[a.slug]||f.CATEGORY_COLORS.genel;return(0,b.jsx)("button",{type:"button",onClick:()=>ah({...ag,category_id:a.id}),className:`px-3 py-2 rounded-xl text-xs font-medium transition-all ${c.bg} ${c.text} border ${c.border} ${ag.category_id===a.id?"ring-2 ring-indigo-500 ring-offset-2 ring-offset-[#18181b]":"hover:opacity-80"}`,children:a.name},a.id)})})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:["Açıklama ",(0,b.jsx)("span",{className:"text-rose-400",children:"*"})]}),(0,b.jsx)("textarea",{value:ag.description,onChange:a=>ah({...ag,description:a.target.value}),placeholder:"Ne yapıyorsun?",rows:3,className:"w-full px-4 py-3 rounded-xl text-sm text-white bg-white/5 border border-white/10 placeholder:text-zinc-500 focus:outline-none focus:border-indigo-500/50 focus:ring-2 focus:ring-indigo-500/20 resize-none transition-all",required:!0})]})]}),(0,b.jsxs)("div",{className:"px-6 py-4 border-t border-white/10 flex justify-end gap-3",children:[(0,b.jsx)("button",{type:"button",onClick:()=>_(!1),className:"h-11 px-5 rounded-xl text-sm font-medium bg-white/5 border border-white/10 text-zinc-300 hover:bg-white/10 active:scale-[0.98] transition-all",children:"İptal"}),(0,b.jsxs)("button",{type:"submit",disabled:ai||!ag.category_id||!ag.description.trim(),className:"h-11 px-5 rounded-xl text-white text-sm font-medium bg-gradient-to-r from-indigo-600 to-violet-600 shadow-lg shadow-indigo-500/25 hover:shadow-indigo-500/40 active:scale-[0.98] transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[ai?(0,b.jsx)(o.Loader2,{className:"w-4 h-4 animate-spin"}):(0,b.jsx)(n.Check,{className:"w-4 h-4"}),ae?"Güncelle":"Başlat"]})]})]})]})}),aa&&ac&&(0,b.jsx)(T,{task:ac,onClose:()=>{ab(!1),ad(null)},onSubmit:as})]})}a.s(["default",()=>W],82903)}];

//# sourceMappingURL=Desktop_ajans-bee-platform_src_app_%28dashboard%29_gunluk-isler_page_tsx_d9bb980f._.js.map