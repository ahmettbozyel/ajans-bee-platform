module.exports=[84376,a=>{"use strict";var b=a.i(17037),c=a.i(62603),d=a.i(82727),e=a.i(9693),f=a.i(7327),g=a.i(17206),h=a.i(98288),i=a.i(8398),j=a.i(38644),k=a.i(30194),l=a.i(41221),m=a.i(83559),n=a.i(96461),o=a.i(92111),p=a.i(65222),q=a.i(90997);let r=(0,a.i(5599).default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);var s=a.i(16536),t=a.i(34479),u=a.i(33420),v=a.i(85807),w=a.i(80627),x=a.i(59489),y=a.i(97683),z=a.i(92353),A=a.i(54059),B=a.i(96241),C=a.i(83349),D=a.i(5694),E=a.i(73131),F=a.i(74086);let G=[{value:"active",label:"Aktif",color:"emerald"},{value:"pending_renewal",label:"Yenileme Bekliyor",color:"amber"},{value:"expired",label:"SÃ¼resi Doldu",color:"rose"},{value:"cancelled",label:"Ä°ptal",color:"zinc"}],H={hosting:d.Server,domain:e.Globe,ssl:f.ShieldCheck,email:g.Mail};function I({isOpen:a,onClose:d,onSave:e,editingService:f}){let g,[j,m]=(0,c.useState)([]),[n,o]=(0,c.useState)([]),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)(null),[x,I]=(0,c.useState)(!1),[J,K]=(0,c.useState)(!1),[L,M]=(0,c.useState)(!1),[N,O]=(0,c.useState)({brand_id:"",provider_id:"",service_type:"hosting",identifier:"",renewal_date:"",discount_percent:0,quantity:1,status:"active",auto_renew:!1,notes:""});async function P(){q(!0);try{let[a,b]=await Promise.all([fetch("/api/customers?minimal=true"),fetch("/api/service-providers")]);if(a.ok){let b=await a.json();m(b)}if(b.ok){let a=await b.json();o(a)}}catch(a){console.error("Error loading data:",a)}finally{q(!1)}}(0,c.useEffect)(()=>{a&&P()},[a]),(0,c.useEffect)(()=>{f?O({brand_id:f.brand_id||"",provider_id:f.provider_id||"",service_type:f.service_type,identifier:f.identifier,renewal_date:f.renewal_date||"",discount_percent:f.discount_percent||0,quantity:f.quantity||1,status:f.status,auto_renew:f.auto_renew||!1,notes:f.notes||""}):O({brand_id:"",provider_id:"",service_type:"hosting",identifier:"",renewal_date:"",discount_percent:0,quantity:1,status:"active",auto_renew:!1,notes:""})},[f,a]);let Q=n.filter(a=>a.service_type===N.service_type),R=j.find(a=>a.id===N.brand_id),S=n.find(a=>a.id===N.provider_id),T=G.find(a=>a.value===N.status),U=S?S.base_price_usd*N.quantity*(1-N.discount_percent/100):0;async function V(){u(null),s(!0);try{let a=f?`/api/technical-services/${f.id}`:"/api/technical-services",b=f?"PATCH":"POST",c=await fetch(a,{method:b,headers:{"Content-Type":"application/json"},body:JSON.stringify({...N,renewal_date:N.renewal_date||null,discount_percent:Number(N.discount_percent),quantity:Number(N.quantity)})});if(!c.ok){let a=await c.json();throw Error(a.error||"Kaydetme baÅŸarÄ±sÄ±z")}e(),d()}catch(a){u(a instanceof Error?a.message:"Bir hata oluÅŸtu")}finally{s(!1)}}let W=w.SERVICE_TYPE_COLORS[N.service_type];return(0,b.jsx)(D.Dialog,{open:a,onOpenChange:d,children:(0,b.jsxs)(D.DialogContent,{className:"sm:max-w-lg border border-zinc-700 rounded-2xl shadow-2xl",style:{backgroundColor:"#18181b"},children:[(0,b.jsxs)(D.DialogHeader,{children:[(0,b.jsxs)(D.DialogTitle,{className:"text-xl font-bold text-white flex items-center gap-2",children:[(0,b.jsx)("div",{className:(0,v.cn)("p-2 rounded-lg",W.bg),children:(g=H[N.service_type],(0,b.jsx)(g,{className:(0,v.cn)("w-5 h-5",W.text)}))}),f?"Hizmeti DÃ¼zenle":"Yeni Hizmet Ekle"]}),(0,b.jsx)(D.DialogDescription,{className:"text-zinc-400",children:"Teknik hizmet bilgilerini gir."})]}),p?(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsx)(l.Loader2,{className:"w-8 h-8 animate-spin text-indigo-500"})}):(0,b.jsxs)("div",{className:"space-y-5 py-4",children:[t&&(0,b.jsx)("div",{className:"p-3 rounded-lg bg-rose-500/20 border border-rose-500/30 text-rose-400 text-sm",children:t}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(C.Label,{className:"text-sm font-medium text-zinc-300",children:"Hizmet Tipi"}),(0,b.jsx)("div",{className:"grid grid-cols-4 gap-2",children:w.SERVICE_TYPES.map(({value:a,label:c})=>{let d=H[a],e=w.SERVICE_TYPE_COLORS[a],f=N.service_type===a;return(0,b.jsxs)("button",{type:"button",onClick:()=>O({...N,service_type:a,provider_id:""}),className:(0,v.cn)("p-3 rounded-xl border-2 transition-all flex flex-col items-center gap-1.5",f?`border-current ${e.bg} ${e.text}`:"border-zinc-700 hover:border-zinc-600 text-zinc-400"),children:[(0,b.jsx)(d,{className:"w-5 h-5"}),(0,b.jsx)("span",{className:"text-xs font-medium",children:c})]},a)})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(C.Label,{className:"text-sm font-medium text-zinc-300",children:[(0,b.jsx)(h.Building2,{className:"w-4 h-4 inline mr-1"}),"Marka ",(0,b.jsx)("span",{className:"text-rose-500",children:"*"})]}),(0,b.jsxs)(E.Popover,{open:x,onOpenChange:I,children:[(0,b.jsx)(E.PopoverTrigger,{asChild:!0,children:(0,b.jsxs)(A.Button,{variant:"outline",role:"combobox",className:"w-full justify-between bg-zinc-800 border-zinc-700 text-white hover:bg-zinc-700 hover:text-white",children:[R?R.brand_name||R.name:"Marka seÃ§...",(0,b.jsx)(z.ChevronsUpDown,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,b.jsx)(E.PopoverContent,{className:"w-[var(--radix-popover-trigger-width)] p-0 border-zinc-700 shadow-2xl rounded-xl overflow-hidden",align:"start",style:{backgroundColor:"#18181b"},children:(0,b.jsxs)(F.Command,{style:{backgroundColor:"#18181b"},children:[(0,b.jsx)(F.CommandInput,{placeholder:"Marka ara...",className:"h-11 border-b border-zinc-700 text-white placeholder:text-zinc-500"}),(0,b.jsxs)(F.CommandList,{className:"max-h-64 overflow-auto",style:{backgroundColor:"#18181b"},children:[(0,b.jsx)(F.CommandEmpty,{className:"py-6 text-center text-sm text-zinc-500",children:"Marka bulunamadÄ±."}),(0,b.jsx)(F.CommandGroup,{style:{backgroundColor:"#18181b"},children:j.map(a=>(0,b.jsxs)(F.CommandItem,{value:a.brand_name||a.name,onSelect:()=>{O({...N,brand_id:a.id}),I(!1)},className:"px-3 py-2.5 cursor-pointer text-zinc-300 hover:!bg-zinc-800 aria-selected:!bg-zinc-800",children:[(0,b.jsx)(y.Check,{className:(0,v.cn)("mr-2 h-4 w-4 text-indigo-400",N.brand_id===a.id?"opacity-100":"opacity-0")}),(0,b.jsx)("span",{className:(0,v.cn)(N.brand_id===a.id&&"text-indigo-400 font-medium"),children:a.brand_name||a.name})]},a.id))})]})]})})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(C.Label,{className:"text-sm font-medium text-zinc-300",children:["SaÄŸlayÄ±cÄ± ",(0,b.jsx)("span",{className:"text-rose-500",children:"*"})]}),(0,b.jsxs)(E.Popover,{open:J,onOpenChange:K,children:[(0,b.jsx)(E.PopoverTrigger,{asChild:!0,children:(0,b.jsxs)(A.Button,{variant:"outline",role:"combobox",className:"w-full justify-between bg-zinc-800 border-zinc-700 text-white hover:bg-zinc-700 hover:text-white",disabled:0===Q.length,children:[S?`${S.name} ($${S.base_price_usd}/${"monthly"===S.billing_cycle?"ay":"yÄ±l"})`:0===Q.length?"Bu tip iÃ§in saÄŸlayÄ±cÄ± yok":"SaÄŸlayÄ±cÄ± seÃ§...",(0,b.jsx)(z.ChevronsUpDown,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,b.jsx)(E.PopoverContent,{className:"w-[var(--radix-popover-trigger-width)] p-0 border-zinc-700 shadow-2xl rounded-xl overflow-hidden",align:"start",style:{backgroundColor:"#18181b"},children:(0,b.jsxs)(F.Command,{style:{backgroundColor:"#18181b"},children:[(0,b.jsx)(F.CommandInput,{placeholder:"SaÄŸlayÄ±cÄ± ara...",className:"h-11 border-b border-zinc-700 text-white placeholder:text-zinc-500"}),(0,b.jsxs)(F.CommandList,{className:"max-h-64 overflow-auto",style:{backgroundColor:"#18181b"},children:[(0,b.jsx)(F.CommandEmpty,{className:"py-6 text-center text-sm text-zinc-500",children:"SaÄŸlayÄ±cÄ± bulunamadÄ±."}),(0,b.jsx)(F.CommandGroup,{style:{backgroundColor:"#18181b"},children:Q.map(a=>(0,b.jsxs)(F.CommandItem,{value:a.name,onSelect:()=>{O({...N,provider_id:a.id}),K(!1)},className:"px-3 py-2.5 cursor-pointer text-zinc-300 hover:!bg-zinc-800 aria-selected:!bg-zinc-800",children:[(0,b.jsx)(y.Check,{className:(0,v.cn)("mr-2 h-4 w-4 text-indigo-400",N.provider_id===a.id?"opacity-100":"opacity-0")}),(0,b.jsx)("span",{className:(0,v.cn)(N.provider_id===a.id&&"text-indigo-400 font-medium"),children:a.name}),(0,b.jsxs)("span",{className:"ml-auto text-xs text-zinc-500 font-mono",children:["$",a.base_price_usd,"/","monthly"===a.billing_cycle?"ay":"yÄ±l"]})]},a.id))})]})]})})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(C.Label,{className:"text-sm font-medium text-zinc-300",children:["TanÄ±mlayÄ±cÄ± ",(0,b.jsx)("span",{className:"text-rose-500",children:"*"})]}),(0,b.jsx)(B.Input,{value:N.identifier,onChange:a=>O({...N,identifier:a.target.value}),placeholder:"email"===N.service_type?"info@ornek.com":"ornek.com",className:"input-glow bg-zinc-800 border-zinc-700 text-white placeholder:text-zinc-500"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(C.Label,{className:"text-sm font-medium text-zinc-300",children:[(0,b.jsx)(i.Calendar,{className:"w-4 h-4 inline mr-1"}),"Yenileme Tarihi"]}),(0,b.jsx)(B.Input,{type:"date",value:N.renewal_date,onChange:a=>O({...N,renewal_date:a.target.value}),className:"input-glow bg-zinc-800 border-zinc-700 text-white [color-scheme:dark]"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(C.Label,{className:"text-sm font-medium text-zinc-300",children:"Miktar"}),(0,b.jsx)(B.Input,{type:"number",min:"1",value:N.quantity,onChange:a=>O({...N,quantity:parseInt(a.target.value)||1}),className:"input-glow bg-zinc-800 border-zinc-700 text-white"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(C.Label,{className:"text-sm font-medium text-zinc-300",children:"Ä°ndirim (%)"}),(0,b.jsx)(B.Input,{type:"number",min:"0",max:"100",value:N.discount_percent,onChange:a=>O({...N,discount_percent:parseInt(a.target.value)||0}),className:"input-glow bg-zinc-800 border-zinc-700 text-white"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(C.Label,{className:"text-sm font-medium text-zinc-300",children:"Durum"}),(0,b.jsxs)(E.Popover,{open:L,onOpenChange:M,children:[(0,b.jsx)(E.PopoverTrigger,{asChild:!0,children:(0,b.jsxs)(A.Button,{variant:"outline",role:"combobox",className:"w-full justify-between bg-zinc-800 border-zinc-700 text-white hover:bg-zinc-700 hover:text-white text-sm",children:[T?.label||"SeÃ§...",(0,b.jsx)(z.ChevronsUpDown,{className:"ml-1 h-3 w-3 shrink-0 opacity-50"})]})}),(0,b.jsx)(E.PopoverContent,{className:"w-[var(--radix-popover-trigger-width)] p-0 border-zinc-700 shadow-2xl rounded-xl overflow-hidden",align:"start",style:{backgroundColor:"#18181b"},children:(0,b.jsx)(F.Command,{style:{backgroundColor:"#18181b"},children:(0,b.jsx)(F.CommandList,{style:{backgroundColor:"#18181b"},children:(0,b.jsx)(F.CommandGroup,{style:{backgroundColor:"#18181b"},children:G.map(a=>(0,b.jsxs)(F.CommandItem,{value:a.value,onSelect:()=>{O({...N,status:a.value}),M(!1)},className:"px-3 py-2 cursor-pointer text-zinc-300 hover:!bg-zinc-800 aria-selected:!bg-zinc-800",children:[(0,b.jsx)(y.Check,{className:(0,v.cn)("mr-2 h-4 w-4 text-indigo-400",N.status===a.value?"opacity-100":"opacity-0")}),a.label]},a.value))})})})})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-zinc-800/50 border border-zinc-700",children:[(0,b.jsx)("input",{type:"checkbox",id:"auto_renew",checked:N.auto_renew,onChange:a=>O({...N,auto_renew:a.target.checked}),className:"w-4 h-4 rounded border-zinc-600 bg-zinc-700 text-indigo-600 focus:ring-indigo-500 focus:ring-offset-0"}),(0,b.jsx)("label",{htmlFor:"auto_renew",className:"text-sm text-zinc-300 cursor-pointer",children:"Otomatik yenileme aktif"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(C.Label,{className:"text-sm font-medium text-zinc-300",children:"Notlar"}),(0,b.jsx)("textarea",{value:N.notes,onChange:a=>O({...N,notes:a.target.value}),rows:2,className:"w-full px-3 py-2 rounded-lg bg-zinc-800 border border-zinc-700 text-white text-sm placeholder:text-zinc-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none",placeholder:"Opsiyonel notlar..."})]}),S&&(0,b.jsxs)("div",{className:(0,v.cn)("p-4 rounded-xl",W.bg,"border",W.border),children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-zinc-400",children:"Hesaplanan Fiyat:"}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("span",{className:(0,v.cn)("text-2xl font-bold",W.text),children:["$",U.toFixed(2)]}),(0,b.jsxs)("span",{className:"text-sm text-zinc-500 ml-1",children:["/","monthly"===S.billing_cycle?"ay":"yÄ±l"]})]})]}),N.discount_percent>0&&(0,b.jsxs)("p",{className:"text-xs text-zinc-500 mt-1",children:["Orijinal: $",(S.base_price_usd*N.quantity).toFixed(2)," - %",N.discount_percent," indirim"]})]})]}),(0,b.jsxs)(D.DialogFooter,{className:"gap-2",children:[(0,b.jsx)(A.Button,{variant:"outline",onClick:d,className:"rounded-xl border-zinc-700 text-zinc-300 hover:bg-zinc-800 hover:text-white",children:"Ä°ptal"}),(0,b.jsx)(A.Button,{onClick:V,disabled:r||!N.brand_id||!N.provider_id||!N.identifier,className:"btn-press rounded-xl bg-gradient-to-r from-indigo-600 to-violet-600 text-white shadow-lg shadow-indigo-500/25",children:r?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(l.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Kaydediliyor..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(k.Plus,{className:"w-4 h-4 mr-2"}),f?"GÃ¼ncelle":"Kaydet"]})})]})]})})}var J=a.i(219);function K(a){if(!a)return null;let b=new Date;return Math.ceil((new Date(a).getTime()-b.getTime())/864e5)}function L({type:a,className:c}){let h={hosting:d.Server,domain:e.Globe,ssl:f.ShieldCheck,email:g.Mail}[a]||d.Server;return(0,b.jsx)(h,{className:c})}function M(a){if(!a.provider?.base_price_usd)return 0;let b=a.provider.base_price_usd,c=a.discount_percent||0;return b*(a.quantity||1)*(1-c/100)}function N(a){return a?new Date(a).toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric"}):"-"}let O={siteground:{bg:"bg-gradient-to-br from-indigo-500 to-violet-600",badge:"bg-indigo-500/20 text-indigo-400 border-indigo-500/20",text:"text-indigo-400",progress:"bg-gradient-to-r from-indigo-500 to-violet-600"},natro:{bg:"bg-gradient-to-br from-amber-500 to-orange-600",badge:"bg-amber-500/20 text-amber-400 border-amber-500/20",text:"text-amber-400",progress:"bg-gradient-to-r from-amber-500 to-orange-500"},veridyen:{bg:"bg-gradient-to-br from-emerald-500 to-teal-600",badge:"bg-emerald-500/20 text-emerald-400 border-emerald-500/20",text:"text-emerald-400",progress:"bg-gradient-to-r from-emerald-500 to-teal-500"},hostinger:{bg:"bg-gradient-to-br from-violet-500 to-purple-600",badge:"bg-violet-500/20 text-violet-400 border-violet-500/20",text:"text-violet-400",progress:"bg-gradient-to-r from-violet-500 to-purple-500"},default:{bg:"bg-gradient-to-br from-zinc-600 to-zinc-700",badge:"bg-zinc-500/20 text-zinc-400 border-zinc-500/20",text:"text-zinc-400",progress:"bg-gradient-to-r from-zinc-500 to-zinc-600"}};function P(a){return O[a?.toLowerCase()||"default"]||O.default}function Q(){let[a,e]=(0,c.useState)([]),[f,g]=(0,c.useState)(!0),[y,z]=(0,c.useState)(""),[A,B]=(0,c.useState)("all"),[C,D]=(0,c.useState)(null),[E,F]=(0,c.useState)(1),[G,H]=(0,c.useState)("renewal"),[O,Q]=(0,c.useState)(!1),[R,S]=(0,c.useState)(null),[T,U]=(0,c.useState)({isOpen:!1,type:"renew",service:null});async function V(){g(!0);try{let a=await fetch("/api/technical-services");if(a.ok){let b=await a.json();e(b)}}catch(a){console.error("Error loading services:",a)}finally{g(!1)}}(0,c.useEffect)(()=>{V()},[]);let W=(0,c.useMemo)(()=>{let b=a.filter(a=>{let b=K(a.renewal_date);return null!==b&&b<0}),c=a.filter(a=>{let b=K(a.renewal_date);return null!==b&&b>=0&&b<=30}),d=a.reduce((a,b)=>a+M(b),0),e=new Set(a.map(a=>a.brand_id).filter(Boolean)).size;return{total:a.length,brands:e,upcoming:c.length,overdue:b.length,overdueServices:b,totalRevenue:d}},[a]),X=(0,c.useMemo)(()=>{let b={};return a.forEach(a=>{let c=a.provider?.name||"DiÄŸer";b[c]||(b[c]={count:0,revenue:0,name:c,pricePerYear:a.provider?.base_price_usd||0}),b[c].count++,b[c].revenue+=M(a)}),Object.values(b).sort((a,b)=>b.count-a.count)},[a]),Y=(0,c.useMemo)(()=>({hosting:a.filter(a=>"hosting"===a.service_type).length,domain:a.filter(a=>"domain"===a.service_type).length,ssl:a.filter(a=>"ssl"===a.service_type).length,email:a.filter(a=>"email"===a.service_type).length}),[a]),Z=(0,c.useMemo)(()=>{let b=a.filter(a=>{let b=""===y||a.identifier.toLowerCase().includes(y.toLowerCase())||a.brand?.name?.toLowerCase().includes(y.toLowerCase())||a.provider?.name?.toLowerCase().includes(y.toLowerCase()),c="all"===A||a.service_type===A;return b&&c});return b.sort((a,b)=>{switch(G){case"brand":return(a.brand?.name||"").localeCompare(b.brand?.name||"");case"provider":return(a.provider?.name||"").localeCompare(b.provider?.name||"");case"price":return M(b)-M(a);default:return(K(a.renewal_date)??1/0)-(K(b.renewal_date)??1/0)}}),b},[a,y,A,G]),$=Math.ceil(Z.length/10),_=Z.slice((E-1)*10,10*E);function aa(){S(null),Q(!0)}async function ab(){if(T.service)try{(await fetch(`/api/technical-services/${T.service.id}`,{method:"DELETE"})).ok&&(U({isOpen:!1,type:"delete",service:null}),await V())}catch(a){console.error("Error deleting service:",a)}}async function ac(){if(T.service&&T.newDate){D(T.service.id);try{(await fetch(`/api/technical-services/${T.service.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({renewal_date:T.newDate})})).ok&&(U({isOpen:!1,type:"renew",service:null}),await V())}catch(a){console.error("Error renewing service:",a)}finally{D(null)}}}return(0,c.useEffect)(()=>{F(1)},[A,y]),f?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,b.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,b.jsx)(l.Loader2,{className:"h-8 w-8 animate-spin text-indigo-400"}),(0,b.jsx)("p",{className:"text-sm text-zinc-500",children:"YÃ¼kleniyor..."})]})}):(0,b.jsxs)("div",{className:"space-y-6",children:[W.overdue>0&&(0,b.jsxs)("div",{className:"glass-card rounded-2xl p-4 glow-rose flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"icon-box icon-box-rose",children:(0,b.jsx)(j.AlertTriangle,{className:"w-6 h-6 text-rose-400 animate-pulse"})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h3",{className:"font-semibold text-white",children:[W.overdue," GecikmiÅŸ Yenileme!"]}),(0,b.jsxs)("p",{className:"text-sm text-zinc-400 mt-0.5",children:[W.overdueServices.slice(0,3).map(a=>a.identifier).join(", "),W.overdue>3&&` ve ${W.overdue-3} diÄŸer`," - Hemen iÅŸlem alÄ±n"]})]})]}),(0,b.jsxs)("button",{onClick:()=>B("all"),className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-rose-500 text-white text-sm font-medium hover:bg-rose-600 transition-colors",children:[(0,b.jsx)(s.Eye,{className:"w-4 h-4"}),"GÃ¶rÃ¼ntÃ¼le"]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-5",children:[(0,b.jsxs)("div",{className:"glass-card rounded-2xl p-5 glow-indigo card-hover",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("div",{className:"icon-box icon-box-indigo",children:(0,b.jsx)(d.Server,{className:"w-6 h-6 text-indigo-400"})}),(0,b.jsx)("span",{className:"badge badge-emerald",children:"Aktif"})]}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white font-mono mb-1",children:W.total}),(0,b.jsx)("p",{className:"text-sm text-zinc-500",children:"Toplam Hizmet"})]}),(0,b.jsxs)("div",{className:"glass-card rounded-2xl p-5 glow-violet card-hover",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,b.jsx)("div",{className:"icon-box icon-box-violet",children:(0,b.jsx)(h.Building2,{className:"w-6 h-6 text-violet-400"})})}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white font-mono mb-1",children:W.brands}),(0,b.jsx)("p",{className:"text-sm text-zinc-500",children:"Marka"})]}),(0,b.jsxs)("div",{className:"glass-card rounded-2xl p-5 glow-amber card-hover",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("div",{className:"icon-box icon-box-amber",children:(0,b.jsx)(i.Calendar,{className:"w-6 h-6 text-amber-400"})}),W.upcoming>0&&(0,b.jsx)("span",{className:"badge badge-amber",children:"Dikkat"})]}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white font-mono mb-1",children:W.upcoming}),(0,b.jsx)("p",{className:"text-sm text-zinc-500",children:"30 GÃ¼n Ä°Ã§inde"})]}),(0,b.jsxs)("div",{className:"glass-card rounded-2xl p-5 glow-rose card-hover cursor-pointer",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("div",{className:"icon-box icon-box-rose",children:(0,b.jsx)(t.AlertCircle,{className:"w-6 h-6 text-rose-400"})}),W.overdue>0&&(0,b.jsx)("span",{className:"text-xs px-2.5 py-1 rounded-full bg-rose-500 text-white font-medium animate-pulse",children:"Acil"})]}),(0,b.jsx)("p",{className:(0,v.cn)("text-3xl font-bold font-mono mb-1",W.overdue>0?"text-rose-400":"text-white"),children:W.overdue}),(0,b.jsx)("p",{className:"text-sm text-zinc-500",children:"GecikmiÅŸ"})]}),(0,b.jsxs)("div",{className:"glass-card rounded-2xl p-5 glow-emerald card-hover col-span-2 sm:col-span-1",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("div",{className:"icon-box icon-box-emerald",children:(0,b.jsx)(q.DollarSign,{className:"w-6 h-6 text-emerald-400"})}),(0,b.jsx)("span",{className:"text-xs text-zinc-500",children:"YÄ±llÄ±k"})]}),(0,b.jsxs)("p",{className:"text-3xl font-bold text-emerald-400 font-mono mb-1",children:["$",W.totalRevenue.toLocaleString("en-US",{maximumFractionDigits:0})]}),(0,b.jsx)("p",{className:"text-sm text-zinc-500",children:"Tahmini Gelir"})]})]}),X.length>0&&(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5",children:[X.slice(0,3).map(a=>{let c=P(a.name),d=W.total>0?Math.round(a.count/W.total*100):0;return(0,b.jsxs)("div",{className:"glass-card rounded-2xl p-5 border border-white/10 card-hover",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)("div",{className:(0,v.cn)("h-10 w-10 rounded-xl flex items-center justify-center",c.bg),children:(0,b.jsx)("span",{className:"text-white text-sm font-bold",children:a.name.substring(0,2).toUpperCase()})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold text-white",children:a.name}),(0,b.jsxs)("p",{className:"text-xs text-zinc-500",children:[a.pricePerYear,"$/yÄ±l"]})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-white font-mono",children:a.count}),(0,b.jsx)("p",{className:"text-xs text-zinc-500",children:"hosting"})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("p",{className:"text-lg font-bold text-emerald-400 font-mono",children:["$",a.revenue.toLocaleString("en-US",{maximumFractionDigits:0})]}),(0,b.jsx)("p",{className:"text-xs text-zinc-500",children:"yÄ±llÄ±k"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between mb-1.5",children:[(0,b.jsx)("span",{className:"text-xs text-zinc-500",children:"DaÄŸÄ±lÄ±m"}),(0,b.jsxs)("span",{className:(0,v.cn)("text-xs font-mono font-semibold",c.text),children:[d,"%"]})]}),(0,b.jsx)("div",{className:"h-2 rounded-full bg-white/10",children:(0,b.jsx)("div",{className:(0,v.cn)("h-full rounded-full",c.progress),style:{width:`${d}%`}})})]})]},a.name)}),(0,b.jsxs)("div",{className:"glass-card rounded-2xl p-5 border border-white/10 card-hover",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(r,{className:"w-5 h-5 text-zinc-400"}),(0,b.jsx)("p",{className:"font-semibold text-white",children:"Ã–deme Durumu"})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-lg bg-white/5",children:[(0,b.jsx)("span",{className:"text-sm text-zinc-400",children:"Ã–dendi"}),(0,b.jsx)("span",{className:"text-sm font-mono font-semibold text-emerald-400",children:W.total-W.overdue-W.upcoming})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-lg bg-white/5",children:[(0,b.jsx)("span",{className:"text-sm text-zinc-400",children:"Bekliyor"}),(0,b.jsx)("span",{className:"text-sm font-mono font-semibold text-amber-400",children:W.upcoming})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-lg bg-white/5",children:[(0,b.jsx)("span",{className:"text-sm text-zinc-400",children:"GecikmiÅŸ"}),(0,b.jsx)("span",{className:"text-sm font-mono font-semibold text-rose-400",children:W.overdue})]})]})]})]}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-between gap-4",children:[(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:w.SERVICE_TYPES.map(({value:a,label:c})=>(0,b.jsxs)("button",{onClick:()=>B(A===a?"all":a),className:(0,v.cn)("flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium border transition-all",A===a?"bg-indigo-500/20 border-indigo-500/30 text-indigo-400":"bg-white/5 border-white/10 text-zinc-400 hover:text-white hover:bg-white/10"),children:[c," (",Y[a],")"]},a))}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(x.default,{href:"/ayarlar",children:(0,b.jsxs)("button",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-white/5 border border-white/10 text-zinc-400 text-sm hover:text-white hover:bg-white/10 transition-colors",children:[(0,b.jsx)(m.Settings,{className:"w-4 h-4"}),"Ayarlar"]})}),(0,b.jsxs)("button",{onClick:aa,className:"flex items-center gap-2 px-4 py-2 rounded-xl btn-primary text-white text-sm font-medium",children:[(0,b.jsx)(k.Plus,{className:"w-4 h-4"}),"Yeni Hizmet"]})]})]}),0===Z.length?(0,b.jsxs)("div",{className:"glass-card rounded-2xl p-12 border border-white/10 text-center",children:[(0,b.jsx)("div",{className:"icon-box icon-box-default w-16 h-16 flex items-center justify-center mx-auto mb-4 animate-float",children:(0,b.jsx)(d.Server,{className:"w-8 h-8 text-zinc-500"})}),(0,b.jsx)("h3",{className:"font-semibold text-white mb-2",children:0===a.length?"HenÃ¼z hizmet eklenmedi":"SonuÃ§ bulunamadÄ±"}),(0,b.jsx)("p",{className:"text-sm text-zinc-500 mb-6",children:0===a.length?"Hosting, domain, SSL veya e-posta hizmetlerini buradan takip edebilirsin.":"FarklÄ± bir filtre deneyin."}),0===a.length&&(0,b.jsxs)("button",{onClick:aa,className:"btn-primary px-5 py-2.5 rounded-xl",children:[(0,b.jsx)(k.Plus,{className:"w-4 h-4 mr-2 inline"}),"Ä°lk Hizmeti Ekle"]})]}):(0,b.jsxs)("div",{className:"glass-card rounded-2xl border border-white/10 overflow-hidden",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-5 border-b border-white/10",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white",children:"TÃ¼m Hizmetler"}),(0,b.jsx)("span",{className:"text-xs px-2.5 py-1 rounded-full bg-zinc-800 text-zinc-400 font-mono",children:Z.length})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-xs text-zinc-500",children:"SÄ±rala:"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("select",{value:G,onChange:a=>H(a.target.value),className:"appearance-none pl-3 pr-8 py-1.5 rounded-lg text-sm bg-white/5 border border-white/10 text-white cursor-pointer focus:outline-none focus:border-indigo-500/50",children:[(0,b.jsx)("option",{value:"renewal",children:"Yenileme Tarihi"}),(0,b.jsx)("option",{value:"brand",children:"Marka (A-Z)"}),(0,b.jsx)("option",{value:"provider",children:"SaÄŸlayÄ±cÄ±"}),(0,b.jsx)("option",{value:"price",children:"Fiyat"})]}),(0,b.jsx)(u.ChevronDown,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-500 pointer-events-none"})]})]})]}),(0,b.jsx)("div",{className:"divide-y divide-white/5",children:_.map(a=>{let c=K(a.renewal_date),d=null!==c&&c<0,e=null!==c&&c>=0&&c<=30,f=M(a),g=C===a.id,h=P(a.provider?.name||"");return(0,b.jsxs)("div",{className:(0,v.cn)("flex items-center gap-4 p-5 transition-colors group",d&&"bg-rose-500/5 hover:bg-rose-500/10",e&&!d&&"hover:bg-amber-500/5",!d&&!e&&"hover:bg-white/[0.02]"),children:[(0,b.jsx)("div",{className:(0,v.cn)("icon-box",d?"icon-box-rose":e?"icon-box-amber":"icon-box-indigo"),children:(0,b.jsx)(L,{type:a.service_type,className:(0,v.cn)("w-5 h-5",d?"text-rose-400":e?"text-amber-400":"text-indigo-400")})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("p",{className:"font-semibold text-white truncate",children:a.identifier}),d&&(0,b.jsx)("span",{className:"text-xs px-2.5 py-1 rounded-full bg-rose-500 text-white font-medium",children:"GecikmiÅŸ"}),e&&!d&&null!==c&&c<=14&&(0,b.jsxs)("span",{className:"badge badge-amber font-semibold",children:[c," gÃ¼n"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 mt-1",children:[a.brand&&(0,b.jsxs)("span",{className:"text-xs text-zinc-500",children:["ðŸ¢ ",a.brand.name]}),a.provider&&(0,b.jsx)("span",{className:(0,v.cn)("text-xs px-2 py-0.5 rounded border",h.badge),children:a.provider.name}),f>0&&(0,b.jsxs)("span",{className:"text-xs text-zinc-500",children:[f.toFixed(0),"$/",a.provider?.billing_cycle==="monthly"?"ay":"yÄ±l"]})]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("p",{className:(0,v.cn)("text-sm font-mono",d?"text-rose-400":e?"text-amber-400":"text-white"),children:N(a.renewal_date)}),null!==c&&(0,b.jsx)("p",{className:(0,v.cn)("text-xs",d?"text-rose-300":"text-zinc-500"),children:d?`${Math.abs(c)} g\xfcn gecikmiÅŸ`:`${c} g\xfcn kaldÄ±`})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>{let b;return b=a.provider?.billing_cycle||"yearly",void U({isOpen:!0,type:"renew",service:a,newDate:function(a,b="yearly"){let c=a?new Date(a):new Date;return"monthly"===b?c.setMonth(c.getMonth()+1):c.setFullYear(c.getFullYear()+1),c.toISOString().split("T")[0]}(a.renewal_date,"monthly"===b?"monthly":"yearly")})},disabled:g,className:(0,v.cn)("flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-medium transition-colors",d?"bg-rose-500 text-white hover:bg-rose-600":e?"bg-white/5 border border-white/10 text-zinc-300 hover:text-white hover:bg-white/10":"bg-white/5 border border-white/10 text-zinc-400 hover:text-white hover:bg-white/10 opacity-0 group-hover:opacity-100"),children:g?(0,b.jsx)(l.Loader2,{className:"w-4 h-4 animate-spin"}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(n.RefreshCw,{className:"w-4 h-4"}),"Yenile"]})}),(0,b.jsxs)("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,b.jsx)("button",{onClick:()=>{S(a),Q(!0)},className:"p-2 rounded-lg hover:bg-white/10 text-zinc-400 hover:text-white transition-colors",children:(0,b.jsx)(o.Pencil,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>{U({isOpen:!0,type:"delete",service:a})},className:"p-2 rounded-lg hover:bg-rose-500/20 text-zinc-400 hover:text-rose-400 transition-colors",children:(0,b.jsx)(p.Trash2,{className:"w-4 h-4"})})]})]})]},a.id)})}),(0,b.jsxs)("div",{className:"flex items-center justify-between p-5 border-t border-white/10",children:[(0,b.jsxs)("p",{className:"text-sm text-zinc-500",children:[(E-1)*10+1," - ",Math.min(10*E,Z.length)," / ",Z.length," gÃ¶steriliyor"]}),$>1&&(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>F(a=>Math.max(1,a-1)),disabled:1===E,className:(0,v.cn)("px-3 py-1.5 rounded-lg text-sm border transition-colors",1===E?"bg-white/5 border-white/10 text-zinc-600 cursor-not-allowed":"bg-white/5 border-white/10 text-zinc-400 hover:text-white hover:bg-white/10"),children:"Ã–nceki"}),Array.from({length:Math.min($,3)},(a,c)=>{let d;return d=$<=3||1===E?c+1:E===$?$-2+c:E-1+c,(0,b.jsx)("button",{onClick:()=>F(d),className:(0,v.cn)("w-8 h-8 rounded-lg text-sm font-medium transition-colors",E===d?"bg-indigo-500 text-white":"bg-white/5 border border-white/10 text-zinc-400 hover:text-white hover:bg-white/10"),children:d},d)}),(0,b.jsx)("button",{onClick:()=>F(a=>Math.min($,a+1)),disabled:E===$,className:(0,v.cn)("px-3 py-1.5 rounded-lg text-sm border transition-colors",E===$?"bg-white/5 border-white/10 text-zinc-600 cursor-not-allowed":"bg-white/5 border-white/10 text-zinc-400 hover:text-white hover:bg-white/10"),children:"Sonraki"})]})]})]}),(0,b.jsx)(I,{isOpen:O,onClose:()=>{Q(!1),S(null)},onSave:V,editingService:R}),(0,b.jsx)(J.ConfirmModal,{isOpen:T.isOpen,onClose:()=>U({isOpen:!1,type:"renew",service:null}),onConfirm:"renew"===T.type?ac:ab,variant:"renew"===T.type?"renew":"danger",title:"renew"===T.type?"Hizmeti Yenile":"Hizmeti Sil",description:"renew"===T.type?`"${T.service?.identifier}" hizmetinin yenileme tarihi ${N(T.newDate||null)} olarak g\xfcncellenecek.`:`"${T.service?.identifier}" hizmetini silmek istediÄŸinize emin misiniz? Bu iÅŸlem geri alÄ±namaz.`,confirmText:"renew"===T.type?"Yenile":"Sil",cancelText:"Ä°ptal",isLoading:C===T.service?.id})]})}a.s(["default",()=>Q],84376)}];

//# sourceMappingURL=3d860_ajans-bee-platform_src_app_%28dashboard%29_teknik-hizmetler_page_tsx_05b4bc11._.js.map