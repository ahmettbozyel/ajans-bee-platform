(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,87027,e=>{"use strict";var t=e.i(12588),s=e.i(77629),i=e.i(19608),n=e.i(72017),r=e.i(90286),a=e.i(10273),l=e.i(62915),o=e.i(65419),c=e.i(98219),d=e.i(44123),m=e.i(43326),x=e.i(22608),h=e.i(83108),u=e.i(38376),p=e.i(46338),b=e.i(83657);let g=(0,e.i(60522).default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);var v=e.i(12330),j=e.i(85479),w=e.i(55912),f=e.i(23389),N=e.i(35499),y=e.i(43155),z=e.i(21370),_=e.i(7919),C=e.i(46336),k=e.i(74111),S=e.i(23553),T=e.i(56811),D=e.i(39404),E=e.i(42927);let L=[{value:"active",label:"Aktif",color:"emerald"},{value:"pending_renewal",label:"Yenileme Bekliyor",color:"amber"},{value:"expired",label:"SÃ¼resi Doldu",color:"rose"},{value:"cancelled",label:"Ä°ptal",color:"zinc"}],O={hosting:i.Server,domain:n.Globe,ssl:r.ShieldCheck,email:a.Mail};function P({isOpen:e,onClose:i,onSave:n,editingService:r}){let a,[c,x]=(0,s.useState)([]),[h,u]=(0,s.useState)([]),[p,b]=(0,s.useState)(!1),[g,v]=(0,s.useState)(!1),[j,w]=(0,s.useState)(null),[y,P]=(0,s.useState)(!1),[M,$]=(0,s.useState)(!1),[Y,H]=(0,s.useState)(!1),[I,B]=(0,s.useState)({brand_id:"",provider_id:"",service_type:"hosting",identifier:"",renewal_date:"",discount_percent:0,quantity:1,status:"active",auto_renew:!1,notes:""});async function F(){b(!0);try{let[e,t]=await Promise.all([fetch("/api/customers?minimal=true"),fetch("/api/service-providers")]);if(e.ok){let t=await e.json();x(t)}if(t.ok){let e=await t.json();u(e)}}catch(e){console.error("Error loading data:",e)}finally{b(!1)}}(0,s.useEffect)(()=>{e&&F()},[e]),(0,s.useEffect)(()=>{r?B({brand_id:r.brand_id||"",provider_id:r.provider_id||"",service_type:r.service_type,identifier:r.identifier,renewal_date:r.renewal_date||"",discount_percent:r.discount_percent||0,quantity:r.quantity||1,status:r.status,auto_renew:r.auto_renew||!1,notes:r.notes||""}):B({brand_id:"",provider_id:"",service_type:"hosting",identifier:"",renewal_date:"",discount_percent:0,quantity:1,status:"active",auto_renew:!1,notes:""})},[r,e]);let G=h.filter(e=>e.service_type===I.service_type),A=c.find(e=>e.id===I.brand_id),q=h.find(e=>e.id===I.provider_id),R=L.find(e=>e.value===I.status),U=q?q.base_price_usd*I.quantity*(1-I.discount_percent/100):0;async function K(){w(null),v(!0);try{let e=r?`/api/technical-services/${r.id}`:"/api/technical-services",t=r?"PATCH":"POST",s=await fetch(e,{method:t,headers:{"Content-Type":"application/json"},body:JSON.stringify({...I,renewal_date:I.renewal_date||null,discount_percent:Number(I.discount_percent),quantity:Number(I.quantity)})});if(!s.ok){let e=await s.json();throw Error(e.error||"Kaydetme baÅŸarÄ±sÄ±z")}n(),i()}catch(e){w(e instanceof Error?e.message:"Bir hata oluÅŸtu")}finally{v(!1)}}let V=N.SERVICE_TYPE_COLORS[I.service_type];return(0,t.jsx)(T.Dialog,{open:e,onOpenChange:i,children:(0,t.jsxs)(T.DialogContent,{className:"sm:max-w-lg border border-zinc-700 rounded-2xl shadow-2xl",style:{backgroundColor:"#18181b"},children:[(0,t.jsxs)(T.DialogHeader,{children:[(0,t.jsxs)(T.DialogTitle,{className:"text-xl font-bold text-white flex items-center gap-2",children:[(0,t.jsx)("div",{className:(0,f.cn)("p-2 rounded-lg",V.bg),children:(a=O[I.service_type],(0,t.jsx)(a,{className:(0,f.cn)("w-5 h-5",V.text)}))}),r?"Hizmeti DÃ¼zenle":"Yeni Hizmet Ekle"]}),(0,t.jsx)(T.DialogDescription,{className:"text-zinc-400",children:"Teknik hizmet bilgilerini gir."})]}),p?(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsx)(m.Loader2,{className:"w-8 h-8 animate-spin text-indigo-500"})}):(0,t.jsxs)("div",{className:"space-y-5 py-4",children:[j&&(0,t.jsx)("div",{className:"p-3 rounded-lg bg-rose-500/20 border border-rose-500/30 text-rose-400 text-sm",children:j}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(S.Label,{className:"text-sm font-medium text-zinc-300",children:"Hizmet Tipi"}),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-2",children:N.SERVICE_TYPES.map(({value:e,label:s})=>{let i=O[e],n=N.SERVICE_TYPE_COLORS[e],r=I.service_type===e;return(0,t.jsxs)("button",{type:"button",onClick:()=>B({...I,service_type:e,provider_id:""}),className:(0,f.cn)("p-3 rounded-xl border-2 transition-all flex flex-col items-center gap-1.5",r?`border-current ${n.bg} ${n.text}`:"border-zinc-700 hover:border-zinc-600 text-zinc-400"),children:[(0,t.jsx)(i,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"text-xs font-medium",children:s})]},e)})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(S.Label,{className:"text-sm font-medium text-zinc-300",children:[(0,t.jsx)(l.Building2,{className:"w-4 h-4 inline mr-1"}),"Marka ",(0,t.jsx)("span",{className:"text-rose-500",children:"*"})]}),(0,t.jsxs)(D.Popover,{open:y,onOpenChange:P,children:[(0,t.jsx)(D.PopoverTrigger,{asChild:!0,children:(0,t.jsxs)(C.Button,{variant:"outline",role:"combobox",className:"w-full justify-between bg-zinc-800 border-zinc-700 text-white hover:bg-zinc-700 hover:text-white",children:[A?A.brand_name||A.name:"Marka seÃ§...",(0,t.jsx)(_.ChevronsUpDown,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,t.jsx)(D.PopoverContent,{className:"w-[var(--radix-popover-trigger-width)] p-0 border-zinc-700 shadow-2xl rounded-xl overflow-hidden",align:"start",style:{backgroundColor:"#18181b"},children:(0,t.jsxs)(E.Command,{style:{backgroundColor:"#18181b"},children:[(0,t.jsx)(E.CommandInput,{placeholder:"Marka ara...",className:"h-11 border-b border-zinc-700 text-white placeholder:text-zinc-500"}),(0,t.jsxs)(E.CommandList,{className:"max-h-64 overflow-auto",style:{backgroundColor:"#18181b"},children:[(0,t.jsx)(E.CommandEmpty,{className:"py-6 text-center text-sm text-zinc-500",children:"Marka bulunamadÄ±."}),(0,t.jsx)(E.CommandGroup,{style:{backgroundColor:"#18181b"},children:c.map(e=>(0,t.jsxs)(E.CommandItem,{value:e.brand_name||e.name,onSelect:()=>{B({...I,brand_id:e.id}),P(!1)},className:"px-3 py-2.5 cursor-pointer text-zinc-300 hover:!bg-zinc-800 aria-selected:!bg-zinc-800",children:[(0,t.jsx)(z.Check,{className:(0,f.cn)("mr-2 h-4 w-4 text-indigo-400",I.brand_id===e.id?"opacity-100":"opacity-0")}),(0,t.jsx)("span",{className:(0,f.cn)(I.brand_id===e.id&&"text-indigo-400 font-medium"),children:e.brand_name||e.name})]},e.id))})]})]})})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(S.Label,{className:"text-sm font-medium text-zinc-300",children:["SaÄŸlayÄ±cÄ± ",(0,t.jsx)("span",{className:"text-rose-500",children:"*"})]}),(0,t.jsxs)(D.Popover,{open:M,onOpenChange:$,children:[(0,t.jsx)(D.PopoverTrigger,{asChild:!0,children:(0,t.jsxs)(C.Button,{variant:"outline",role:"combobox",className:"w-full justify-between bg-zinc-800 border-zinc-700 text-white hover:bg-zinc-700 hover:text-white",disabled:0===G.length,children:[q?`${q.name} ($${q.base_price_usd}/${"monthly"===q.billing_cycle?"ay":"yÄ±l"})`:0===G.length?"Bu tip iÃ§in saÄŸlayÄ±cÄ± yok":"SaÄŸlayÄ±cÄ± seÃ§...",(0,t.jsx)(_.ChevronsUpDown,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,t.jsx)(D.PopoverContent,{className:"w-[var(--radix-popover-trigger-width)] p-0 border-zinc-700 shadow-2xl rounded-xl overflow-hidden",align:"start",style:{backgroundColor:"#18181b"},children:(0,t.jsxs)(E.Command,{style:{backgroundColor:"#18181b"},children:[(0,t.jsx)(E.CommandInput,{placeholder:"SaÄŸlayÄ±cÄ± ara...",className:"h-11 border-b border-zinc-700 text-white placeholder:text-zinc-500"}),(0,t.jsxs)(E.CommandList,{className:"max-h-64 overflow-auto",style:{backgroundColor:"#18181b"},children:[(0,t.jsx)(E.CommandEmpty,{className:"py-6 text-center text-sm text-zinc-500",children:"SaÄŸlayÄ±cÄ± bulunamadÄ±."}),(0,t.jsx)(E.CommandGroup,{style:{backgroundColor:"#18181b"},children:G.map(e=>(0,t.jsxs)(E.CommandItem,{value:e.name,onSelect:()=>{B({...I,provider_id:e.id}),$(!1)},className:"px-3 py-2.5 cursor-pointer text-zinc-300 hover:!bg-zinc-800 aria-selected:!bg-zinc-800",children:[(0,t.jsx)(z.Check,{className:(0,f.cn)("mr-2 h-4 w-4 text-indigo-400",I.provider_id===e.id?"opacity-100":"opacity-0")}),(0,t.jsx)("span",{className:(0,f.cn)(I.provider_id===e.id&&"text-indigo-400 font-medium"),children:e.name}),(0,t.jsxs)("span",{className:"ml-auto text-xs text-zinc-500 font-mono",children:["$",e.base_price_usd,"/","monthly"===e.billing_cycle?"ay":"yÄ±l"]})]},e.id))})]})]})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(S.Label,{className:"text-sm font-medium text-zinc-300",children:["TanÄ±mlayÄ±cÄ± ",(0,t.jsx)("span",{className:"text-rose-500",children:"*"})]}),(0,t.jsx)(k.Input,{value:I.identifier,onChange:e=>B({...I,identifier:e.target.value}),placeholder:"email"===I.service_type?"info@ornek.com":"ornek.com",className:"input-glow bg-zinc-800 border-zinc-700 text-white placeholder:text-zinc-500"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(S.Label,{className:"text-sm font-medium text-zinc-300",children:[(0,t.jsx)(o.Calendar,{className:"w-4 h-4 inline mr-1"}),"Yenileme Tarihi"]}),(0,t.jsx)(k.Input,{type:"date",value:I.renewal_date,onChange:e=>B({...I,renewal_date:e.target.value}),className:"input-glow bg-zinc-800 border-zinc-700 text-white [color-scheme:dark]"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(S.Label,{className:"text-sm font-medium text-zinc-300",children:"Miktar"}),(0,t.jsx)(k.Input,{type:"number",min:"1",value:I.quantity,onChange:e=>B({...I,quantity:parseInt(e.target.value)||1}),className:"input-glow bg-zinc-800 border-zinc-700 text-white"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(S.Label,{className:"text-sm font-medium text-zinc-300",children:"Ä°ndirim (%)"}),(0,t.jsx)(k.Input,{type:"number",min:"0",max:"100",value:I.discount_percent,onChange:e=>B({...I,discount_percent:parseInt(e.target.value)||0}),className:"input-glow bg-zinc-800 border-zinc-700 text-white"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(S.Label,{className:"text-sm font-medium text-zinc-300",children:"Durum"}),(0,t.jsxs)(D.Popover,{open:Y,onOpenChange:H,children:[(0,t.jsx)(D.PopoverTrigger,{asChild:!0,children:(0,t.jsxs)(C.Button,{variant:"outline",role:"combobox",className:"w-full justify-between bg-zinc-800 border-zinc-700 text-white hover:bg-zinc-700 hover:text-white text-sm",children:[R?.label||"SeÃ§...",(0,t.jsx)(_.ChevronsUpDown,{className:"ml-1 h-3 w-3 shrink-0 opacity-50"})]})}),(0,t.jsx)(D.PopoverContent,{className:"w-[var(--radix-popover-trigger-width)] p-0 border-zinc-700 shadow-2xl rounded-xl overflow-hidden",align:"start",style:{backgroundColor:"#18181b"},children:(0,t.jsx)(E.Command,{style:{backgroundColor:"#18181b"},children:(0,t.jsx)(E.CommandList,{style:{backgroundColor:"#18181b"},children:(0,t.jsx)(E.CommandGroup,{style:{backgroundColor:"#18181b"},children:L.map(e=>(0,t.jsxs)(E.CommandItem,{value:e.value,onSelect:()=>{B({...I,status:e.value}),H(!1)},className:"px-3 py-2 cursor-pointer text-zinc-300 hover:!bg-zinc-800 aria-selected:!bg-zinc-800",children:[(0,t.jsx)(z.Check,{className:(0,f.cn)("mr-2 h-4 w-4 text-indigo-400",I.status===e.value?"opacity-100":"opacity-0")}),e.label]},e.value))})})})})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-zinc-800/50 border border-zinc-700",children:[(0,t.jsx)("input",{type:"checkbox",id:"auto_renew",checked:I.auto_renew,onChange:e=>B({...I,auto_renew:e.target.checked}),className:"w-4 h-4 rounded border-zinc-600 bg-zinc-700 text-indigo-600 focus:ring-indigo-500 focus:ring-offset-0"}),(0,t.jsx)("label",{htmlFor:"auto_renew",className:"text-sm text-zinc-300 cursor-pointer",children:"Otomatik yenileme aktif"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(S.Label,{className:"text-sm font-medium text-zinc-300",children:"Notlar"}),(0,t.jsx)("textarea",{value:I.notes,onChange:e=>B({...I,notes:e.target.value}),rows:2,className:"w-full px-3 py-2 rounded-lg bg-zinc-800 border border-zinc-700 text-white text-sm placeholder:text-zinc-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none",placeholder:"Opsiyonel notlar..."})]}),q&&(0,t.jsxs)("div",{className:(0,f.cn)("p-4 rounded-xl",V.bg,"border",V.border),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-zinc-400",children:"Hesaplanan Fiyat:"}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("span",{className:(0,f.cn)("text-2xl font-bold",V.text),children:["$",U.toFixed(2)]}),(0,t.jsxs)("span",{className:"text-sm text-zinc-500 ml-1",children:["/","monthly"===q.billing_cycle?"ay":"yÄ±l"]})]})]}),I.discount_percent>0&&(0,t.jsxs)("p",{className:"text-xs text-zinc-500 mt-1",children:["Orijinal: $",(q.base_price_usd*I.quantity).toFixed(2)," - %",I.discount_percent," indirim"]})]})]}),(0,t.jsxs)(T.DialogFooter,{className:"gap-2",children:[(0,t.jsx)(C.Button,{variant:"outline",onClick:i,className:"rounded-xl border-zinc-700 text-zinc-300 hover:bg-zinc-800 hover:text-white",children:"Ä°ptal"}),(0,t.jsx)(C.Button,{onClick:K,disabled:g||!I.brand_id||!I.provider_id||!I.identifier,className:"btn-press rounded-xl bg-gradient-to-r from-indigo-600 to-violet-600 text-white shadow-lg shadow-indigo-500/25",children:g?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Kaydediliyor..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.Plus,{className:"w-4 h-4 mr-2"}),r?"GÃ¼ncelle":"Kaydet"]})})]})]})})}var M=e.i(69494);function $(e){if(!e)return null;let t=new Date;return Math.ceil((new Date(e).getTime()-t.getTime())/864e5)}function Y({type:e,className:s}){let l={hosting:i.Server,domain:n.Globe,ssl:r.ShieldCheck,email:a.Mail}[e]||i.Server;return(0,t.jsx)(l,{className:s})}function H(e){if(!e.provider?.base_price_usd)return 0;let t=e.provider.base_price_usd,s=e.discount_percent||0;return t*(e.quantity||1)*(1-s/100)}function I(e){return e?new Date(e).toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric"}):"-"}let B={siteground:{bg:"bg-gradient-to-br from-indigo-500 to-violet-600",badge:"bg-indigo-500/20 text-indigo-400 border-indigo-500/20",text:"text-indigo-400",progress:"bg-gradient-to-r from-indigo-500 to-violet-600"},natro:{bg:"bg-gradient-to-br from-amber-500 to-orange-600",badge:"bg-amber-500/20 text-amber-400 border-amber-500/20",text:"text-amber-400",progress:"bg-gradient-to-r from-amber-500 to-orange-500"},veridyen:{bg:"bg-gradient-to-br from-emerald-500 to-teal-600",badge:"bg-emerald-500/20 text-emerald-400 border-emerald-500/20",text:"text-emerald-400",progress:"bg-gradient-to-r from-emerald-500 to-teal-500"},hostinger:{bg:"bg-gradient-to-br from-violet-500 to-purple-600",badge:"bg-violet-500/20 text-violet-400 border-violet-500/20",text:"text-violet-400",progress:"bg-gradient-to-r from-violet-500 to-purple-500"},default:{bg:"bg-gradient-to-br from-zinc-600 to-zinc-700",badge:"bg-zinc-500/20 text-zinc-400 border-zinc-500/20",text:"text-zinc-400",progress:"bg-gradient-to-r from-zinc-500 to-zinc-600"}};function F(e){return B[e?.toLowerCase()||"default"]||B.default}function G(){let[e,n]=(0,s.useState)([]),[r,a]=(0,s.useState)(!0),[z,_]=(0,s.useState)(""),[C,k]=(0,s.useState)("all"),[S,T]=(0,s.useState)(null),[D,E]=(0,s.useState)(1),[L,O]=(0,s.useState)("renewal"),[B,G]=(0,s.useState)(!1),[A,q]=(0,s.useState)(null),[R,U]=(0,s.useState)({isOpen:!1,type:"renew",service:null});async function K(){a(!0);try{let e=await fetch("/api/technical-services");if(e.ok){let t=await e.json();n(t)}}catch(e){console.error("Error loading services:",e)}finally{a(!1)}}(0,s.useEffect)(()=>{K()},[]);let V=(0,s.useMemo)(()=>{let t=e.filter(e=>{let t=$(e.renewal_date);return null!==t&&t<0}),s=e.filter(e=>{let t=$(e.renewal_date);return null!==t&&t>=0&&t<=30}),i=e.reduce((e,t)=>e+H(t),0),n=new Set(e.map(e=>e.brand_id).filter(Boolean)).size;return{total:e.length,brands:n,upcoming:s.length,overdue:t.length,overdueServices:t,totalRevenue:i}},[e]),J=(0,s.useMemo)(()=>{let t={};return e.forEach(e=>{let s=e.provider?.name||"DiÄŸer";t[s]||(t[s]={count:0,revenue:0,name:s,pricePerYear:e.provider?.base_price_usd||0}),t[s].count++,t[s].revenue+=H(e)}),Object.values(t).sort((e,t)=>t.count-e.count)},[e]),Z=(0,s.useMemo)(()=>({hosting:e.filter(e=>"hosting"===e.service_type).length,domain:e.filter(e=>"domain"===e.service_type).length,ssl:e.filter(e=>"ssl"===e.service_type).length,email:e.filter(e=>"email"===e.service_type).length}),[e]),Q=(0,s.useMemo)(()=>{let t=e.filter(e=>{let t=""===z||e.identifier.toLowerCase().includes(z.toLowerCase())||e.brand?.name?.toLowerCase().includes(z.toLowerCase())||e.provider?.name?.toLowerCase().includes(z.toLowerCase()),s="all"===C||e.service_type===C;return t&&s});return t.sort((e,t)=>{switch(L){case"brand":return(e.brand?.name||"").localeCompare(t.brand?.name||"");case"provider":return(e.provider?.name||"").localeCompare(t.provider?.name||"");case"price":return H(t)-H(e);default:return($(e.renewal_date)??1/0)-($(t.renewal_date)??1/0)}}),t},[e,z,C,L]),W=Math.ceil(Q.length/10),X=Q.slice((D-1)*10,10*D);function ee(){q(null),G(!0)}async function et(){if(R.service)try{(await fetch(`/api/technical-services/${R.service.id}`,{method:"DELETE"})).ok&&(U({isOpen:!1,type:"delete",service:null}),await K())}catch(e){console.error("Error deleting service:",e)}}async function es(){if(R.service&&R.newDate){T(R.service.id);try{(await fetch(`/api/technical-services/${R.service.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({renewal_date:R.newDate})})).ok&&(U({isOpen:!1,type:"renew",service:null}),await K())}catch(e){console.error("Error renewing service:",e)}finally{T(null)}}}return(0,s.useEffect)(()=>{E(1)},[C,z]),r?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,t.jsx)(m.Loader2,{className:"h-8 w-8 animate-spin text-indigo-400"}),(0,t.jsx)("p",{className:"text-sm text-zinc-500",children:"YÃ¼kleniyor..."})]})}):(0,t.jsxs)("div",{className:"space-y-6",children:[V.overdue>0&&(0,t.jsxs)("div",{className:"glass-card rounded-2xl p-4 glow-rose flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"icon-box icon-box-rose",children:(0,t.jsx)(c.AlertTriangle,{className:"w-6 h-6 text-rose-400 animate-pulse"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"font-semibold text-white",children:[V.overdue," GecikmiÅŸ Yenileme!"]}),(0,t.jsxs)("p",{className:"text-sm text-zinc-400 mt-0.5",children:[V.overdueServices.slice(0,3).map(e=>e.identifier).join(", "),V.overdue>3&&` ve ${V.overdue-3} diÄŸer`," - Hemen iÅŸlem alÄ±n"]})]})]}),(0,t.jsxs)("button",{onClick:()=>k("all"),className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-rose-500 text-white text-sm font-medium hover:bg-rose-600 transition-colors",children:[(0,t.jsx)(v.Eye,{className:"w-4 h-4"}),"GÃ¶rÃ¼ntÃ¼le"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-5",children:[(0,t.jsxs)("div",{className:"glass-card rounded-2xl p-5 glow-indigo card-hover",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"icon-box icon-box-indigo",children:(0,t.jsx)(i.Server,{className:"w-6 h-6 text-indigo-400"})}),(0,t.jsx)("span",{className:"badge badge-emerald",children:"Aktif"})]}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white font-mono mb-1",children:V.total}),(0,t.jsx)("p",{className:"text-sm text-zinc-500",children:"Toplam Hizmet"})]}),(0,t.jsxs)("div",{className:"glass-card rounded-2xl p-5 glow-violet card-hover",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,t.jsx)("div",{className:"icon-box icon-box-violet",children:(0,t.jsx)(l.Building2,{className:"w-6 h-6 text-violet-400"})})}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white font-mono mb-1",children:V.brands}),(0,t.jsx)("p",{className:"text-sm text-zinc-500",children:"Marka"})]}),(0,t.jsxs)("div",{className:"glass-card rounded-2xl p-5 glow-amber card-hover",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"icon-box icon-box-amber",children:(0,t.jsx)(o.Calendar,{className:"w-6 h-6 text-amber-400"})}),V.upcoming>0&&(0,t.jsx)("span",{className:"badge badge-amber",children:"Dikkat"})]}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white font-mono mb-1",children:V.upcoming}),(0,t.jsx)("p",{className:"text-sm text-zinc-500",children:"30 GÃ¼n Ä°Ã§inde"})]}),(0,t.jsxs)("div",{className:"glass-card rounded-2xl p-5 glow-rose card-hover cursor-pointer",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"icon-box icon-box-rose",children:(0,t.jsx)(j.AlertCircle,{className:"w-6 h-6 text-rose-400"})}),V.overdue>0&&(0,t.jsx)("span",{className:"text-xs px-2.5 py-1 rounded-full bg-rose-500 text-white font-medium animate-pulse",children:"Acil"})]}),(0,t.jsx)("p",{className:(0,f.cn)("text-3xl font-bold font-mono mb-1",V.overdue>0?"text-rose-400":"text-white"),children:V.overdue}),(0,t.jsx)("p",{className:"text-sm text-zinc-500",children:"GecikmiÅŸ"})]}),(0,t.jsxs)("div",{className:"glass-card rounded-2xl p-5 glow-emerald card-hover col-span-2 sm:col-span-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"icon-box icon-box-emerald",children:(0,t.jsx)(b.DollarSign,{className:"w-6 h-6 text-emerald-400"})}),(0,t.jsx)("span",{className:"text-xs text-zinc-500",children:"YÄ±llÄ±k"})]}),(0,t.jsxs)("p",{className:"text-3xl font-bold text-emerald-400 font-mono mb-1",children:["$",V.totalRevenue.toLocaleString("en-US",{maximumFractionDigits:0})]}),(0,t.jsx)("p",{className:"text-sm text-zinc-500",children:"Tahmini Gelir"})]})]}),J.length>0&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5",children:[J.slice(0,3).map(e=>{let s=F(e.name),i=V.total>0?Math.round(e.count/V.total*100):0;return(0,t.jsxs)("div",{className:"glass-card rounded-2xl p-5 border border-white/10 card-hover",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:(0,f.cn)("h-10 w-10 rounded-xl flex items-center justify-center",s.bg),children:(0,t.jsx)("span",{className:"text-white text-sm font-bold",children:e.name.substring(0,2).toUpperCase()})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-white",children:e.name}),(0,t.jsxs)("p",{className:"text-xs text-zinc-500",children:[e.pricePerYear,"$/yÄ±l"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-white font-mono",children:e.count}),(0,t.jsx)("p",{className:"text-xs text-zinc-500",children:"hosting"})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:"text-lg font-bold text-emerald-400 font-mono",children:["$",e.revenue.toLocaleString("en-US",{maximumFractionDigits:0})]}),(0,t.jsx)("p",{className:"text-xs text-zinc-500",children:"yÄ±llÄ±k"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between mb-1.5",children:[(0,t.jsx)("span",{className:"text-xs text-zinc-500",children:"DaÄŸÄ±lÄ±m"}),(0,t.jsxs)("span",{className:(0,f.cn)("text-xs font-mono font-semibold",s.text),children:[i,"%"]})]}),(0,t.jsx)("div",{className:"h-2 rounded-full bg-white/10",children:(0,t.jsx)("div",{className:(0,f.cn)("h-full rounded-full",s.progress),style:{width:`${i}%`}})})]})]},e.name)}),(0,t.jsxs)("div",{className:"glass-card rounded-2xl p-5 border border-white/10 card-hover",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)(g,{className:"w-5 h-5 text-zinc-400"}),(0,t.jsx)("p",{className:"font-semibold text-white",children:"Ã–deme Durumu"})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-lg bg-white/5",children:[(0,t.jsx)("span",{className:"text-sm text-zinc-400",children:"Ã–dendi"}),(0,t.jsx)("span",{className:"text-sm font-mono font-semibold text-emerald-400",children:V.total-V.overdue-V.upcoming})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-lg bg-white/5",children:[(0,t.jsx)("span",{className:"text-sm text-zinc-400",children:"Bekliyor"}),(0,t.jsx)("span",{className:"text-sm font-mono font-semibold text-amber-400",children:V.upcoming})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-lg bg-white/5",children:[(0,t.jsx)("span",{className:"text-sm text-zinc-400",children:"GecikmiÅŸ"}),(0,t.jsx)("span",{className:"text-sm font-mono font-semibold text-rose-400",children:V.overdue})]})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-between gap-4",children:[(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:N.SERVICE_TYPES.map(({value:e,label:s})=>(0,t.jsxs)("button",{onClick:()=>k(C===e?"all":e),className:(0,f.cn)("flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium border transition-all",C===e?"bg-indigo-500/20 border-indigo-500/30 text-indigo-400":"bg-white/5 border-white/10 text-zinc-400 hover:text-white hover:bg-white/10"),children:[s," (",Z[e],")"]},e))}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(y.default,{href:"/ayarlar",children:(0,t.jsxs)("button",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-white/5 border border-white/10 text-zinc-400 text-sm hover:text-white hover:bg-white/10 transition-colors",children:[(0,t.jsx)(x.Settings,{className:"w-4 h-4"}),"Ayarlar"]})}),(0,t.jsxs)("button",{onClick:ee,className:"flex items-center gap-2 px-4 py-2 rounded-xl btn-primary text-white text-sm font-medium",children:[(0,t.jsx)(d.Plus,{className:"w-4 h-4"}),"Yeni Hizmet"]})]})]}),0===Q.length?(0,t.jsxs)("div",{className:"glass-card rounded-2xl p-12 border border-white/10 text-center",children:[(0,t.jsx)("div",{className:"icon-box icon-box-default w-16 h-16 flex items-center justify-center mx-auto mb-4 animate-float",children:(0,t.jsx)(i.Server,{className:"w-8 h-8 text-zinc-500"})}),(0,t.jsx)("h3",{className:"font-semibold text-white mb-2",children:0===e.length?"HenÃ¼z hizmet eklenmedi":"SonuÃ§ bulunamadÄ±"}),(0,t.jsx)("p",{className:"text-sm text-zinc-500 mb-6",children:0===e.length?"Hosting, domain, SSL veya e-posta hizmetlerini buradan takip edebilirsin.":"FarklÄ± bir filtre deneyin."}),0===e.length&&(0,t.jsxs)("button",{onClick:ee,className:"btn-primary px-5 py-2.5 rounded-xl",children:[(0,t.jsx)(d.Plus,{className:"w-4 h-4 mr-2 inline"}),"Ä°lk Hizmeti Ekle"]})]}):(0,t.jsxs)("div",{className:"glass-card rounded-2xl border border-white/10 overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-5 border-b border-white/10",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white",children:"TÃ¼m Hizmetler"}),(0,t.jsx)("span",{className:"text-xs px-2.5 py-1 rounded-full bg-zinc-800 text-zinc-400 font-mono",children:Q.length})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-xs text-zinc-500",children:"SÄ±rala:"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("select",{value:L,onChange:e=>O(e.target.value),className:"appearance-none pl-3 pr-8 py-1.5 rounded-lg text-sm bg-white/5 border border-white/10 text-white cursor-pointer focus:outline-none focus:border-indigo-500/50",children:[(0,t.jsx)("option",{value:"renewal",children:"Yenileme Tarihi"}),(0,t.jsx)("option",{value:"brand",children:"Marka (A-Z)"}),(0,t.jsx)("option",{value:"provider",children:"SaÄŸlayÄ±cÄ±"}),(0,t.jsx)("option",{value:"price",children:"Fiyat"})]}),(0,t.jsx)(w.ChevronDown,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-500 pointer-events-none"})]})]})]}),(0,t.jsx)("div",{className:"divide-y divide-white/5",children:X.map(e=>{let s=$(e.renewal_date),i=null!==s&&s<0,n=null!==s&&s>=0&&s<=30,r=H(e),a=S===e.id,l=F(e.provider?.name||"");return(0,t.jsxs)("div",{className:(0,f.cn)("flex items-center gap-4 p-5 transition-colors group",i&&"bg-rose-500/5 hover:bg-rose-500/10",n&&!i&&"hover:bg-amber-500/5",!i&&!n&&"hover:bg-white/[0.02]"),children:[(0,t.jsx)("div",{className:(0,f.cn)("icon-box",i?"icon-box-rose":n?"icon-box-amber":"icon-box-indigo"),children:(0,t.jsx)(Y,{type:e.service_type,className:(0,f.cn)("w-5 h-5",i?"text-rose-400":n?"text-amber-400":"text-indigo-400")})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("p",{className:"font-semibold text-white truncate",children:e.identifier}),i&&(0,t.jsx)("span",{className:"text-xs px-2.5 py-1 rounded-full bg-rose-500 text-white font-medium",children:"GecikmiÅŸ"}),n&&!i&&null!==s&&s<=14&&(0,t.jsxs)("span",{className:"badge badge-amber font-semibold",children:[s," gÃ¼n"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mt-1",children:[e.brand&&(0,t.jsxs)("span",{className:"text-xs text-zinc-500",children:["ðŸ¢ ",e.brand.name]}),e.provider&&(0,t.jsx)("span",{className:(0,f.cn)("text-xs px-2 py-0.5 rounded border",l.badge),children:e.provider.name}),r>0&&(0,t.jsxs)("span",{className:"text-xs text-zinc-500",children:[r.toFixed(0),"$/",e.provider?.billing_cycle==="monthly"?"ay":"yÄ±l"]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:(0,f.cn)("text-sm font-mono",i?"text-rose-400":n?"text-amber-400":"text-white"),children:I(e.renewal_date)}),null!==s&&(0,t.jsx)("p",{className:(0,f.cn)("text-xs",i?"text-rose-300":"text-zinc-500"),children:i?`${Math.abs(s)} g\xfcn gecikmiÅŸ`:`${s} g\xfcn kaldÄ±`})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>{let t;return t=e.provider?.billing_cycle||"yearly",void U({isOpen:!0,type:"renew",service:e,newDate:function(e,t="yearly"){let s=e?new Date(e):new Date;return"monthly"===t?s.setMonth(s.getMonth()+1):s.setFullYear(s.getFullYear()+1),s.toISOString().split("T")[0]}(e.renewal_date,"monthly"===t?"monthly":"yearly")})},disabled:a,className:(0,f.cn)("flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-medium transition-colors",i?"bg-rose-500 text-white hover:bg-rose-600":n?"bg-white/5 border border-white/10 text-zinc-300 hover:text-white hover:bg-white/10":"bg-white/5 border border-white/10 text-zinc-400 hover:text-white hover:bg-white/10 opacity-0 group-hover:opacity-100"),children:a?(0,t.jsx)(m.Loader2,{className:"w-4 h-4 animate-spin"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.RefreshCw,{className:"w-4 h-4"}),"Yenile"]})}),(0,t.jsxs)("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,t.jsx)("button",{onClick:()=>{q(e),G(!0)},className:"p-2 rounded-lg hover:bg-white/10 text-zinc-400 hover:text-white transition-colors",children:(0,t.jsx)(u.Pencil,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>{U({isOpen:!0,type:"delete",service:e})},className:"p-2 rounded-lg hover:bg-rose-500/20 text-zinc-400 hover:text-rose-400 transition-colors",children:(0,t.jsx)(p.Trash2,{className:"w-4 h-4"})})]})]})]},e.id)})}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-5 border-t border-white/10",children:[(0,t.jsxs)("p",{className:"text-sm text-zinc-500",children:[(D-1)*10+1," - ",Math.min(10*D,Q.length)," / ",Q.length," gÃ¶steriliyor"]}),W>1&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>E(e=>Math.max(1,e-1)),disabled:1===D,className:(0,f.cn)("px-3 py-1.5 rounded-lg text-sm border transition-colors",1===D?"bg-white/5 border-white/10 text-zinc-600 cursor-not-allowed":"bg-white/5 border-white/10 text-zinc-400 hover:text-white hover:bg-white/10"),children:"Ã–nceki"}),Array.from({length:Math.min(W,3)},(e,s)=>{let i;return i=W<=3||1===D?s+1:D===W?W-2+s:D-1+s,(0,t.jsx)("button",{onClick:()=>E(i),className:(0,f.cn)("w-8 h-8 rounded-lg text-sm font-medium transition-colors",D===i?"bg-indigo-500 text-white":"bg-white/5 border border-white/10 text-zinc-400 hover:text-white hover:bg-white/10"),children:i},i)}),(0,t.jsx)("button",{onClick:()=>E(e=>Math.min(W,e+1)),disabled:D===W,className:(0,f.cn)("px-3 py-1.5 rounded-lg text-sm border transition-colors",D===W?"bg-white/5 border-white/10 text-zinc-600 cursor-not-allowed":"bg-white/5 border-white/10 text-zinc-400 hover:text-white hover:bg-white/10"),children:"Sonraki"})]})]})]}),(0,t.jsx)(P,{isOpen:B,onClose:()=>{G(!1),q(null)},onSave:K,editingService:A}),(0,t.jsx)(M.ConfirmModal,{isOpen:R.isOpen,onClose:()=>U({isOpen:!1,type:"renew",service:null}),onConfirm:"renew"===R.type?es:et,variant:"renew"===R.type?"renew":"danger",title:"renew"===R.type?"Hizmeti Yenile":"Hizmeti Sil",description:"renew"===R.type?`"${R.service?.identifier}" hizmetinin yenileme tarihi ${I(R.newDate||null)} olarak g\xfcncellenecek.`:`"${R.service?.identifier}" hizmetini silmek istediÄŸinize emin misiniz? Bu iÅŸlem geri alÄ±namaz.`,confirmText:"renew"===R.type?"Yenile":"Sil",cancelText:"Ä°ptal",isLoading:S===R.service?.id})]})}e.s(["default",()=>G],87027)}]);