(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,23498,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return s}});let s=e=>{}},16829,e=>{"use strict";let t=(0,e.i(60522).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>t],16829)},21137,e=>{"use strict";let t=(0,e.i(60522).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>t],21137)},21370,e=>{"use strict";let t=(0,e.i(60522).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>t],21370)},62915,e=>{"use strict";let t=(0,e.i(60522).default)("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]]);e.s(["Building2",()=>t],62915)},29406,(e,t,r)=>{t.exports=e.r(42534)},99405,e=>{"use strict";let t=(0,e.i(60522).default)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);e.s(["Sparkles",()=>t],99405)},22608,e=>{"use strict";let t=(0,e.i(60522).default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Settings",()=>t],22608)},19608,e=>{"use strict";let t=(0,e.i(60522).default)("server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);e.s(["Server",()=>t],19608)},84508,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s={assign:function(){return c},searchParamsToUrlQuery:function(){return n},urlQueryToSearchParams:function(){return l}};for(var a in s)Object.defineProperty(r,a,{enumerable:!0,get:s[a]});function n(e){let t={};for(let[r,s]of e.entries()){let e=t[r];void 0===e?t[r]=s:Array.isArray(e)?e.push(s):t[r]=[e,s]}return t}function i(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function l(e){let t=new URLSearchParams;for(let[r,s]of Object.entries(e))if(Array.isArray(s))for(let e of s)t.append(r,i(e));else t.set(r,i(s));return t}function c(e,...t){for(let r of t){for(let t of r.keys())e.delete(t);for(let[t,s]of r.entries())e.append(t,s)}return e}},9247,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s={formatUrl:function(){return l},formatWithValidation:function(){return o},urlObjectKeys:function(){return c}};for(var a in s)Object.defineProperty(r,a,{enumerable:!0,get:s[a]});let n=e.r(97460)._(e.r(84508)),i=/https?|ftp|gopher|file/;function l(e){let{auth:t,hostname:r}=e,s=e.protocol||"",a=e.pathname||"",l=e.hash||"",c=e.query||"",o=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?o=t+e.host:r&&(o=t+(~r.indexOf(":")?`[${r}]`:r),e.port&&(o+=":"+e.port)),c&&"object"==typeof c&&(c=String(n.urlQueryToSearchParams(c)));let d=e.search||c&&`?${c}`||"";return s&&!s.endsWith(":")&&(s+=":"),e.slashes||(!s||i.test(s))&&!1!==o?(o="//"+(o||""),a&&"/"!==a[0]&&(a="/"+a)):o||(o=""),l&&"#"!==l[0]&&(l="#"+l),d&&"?"!==d[0]&&(d="?"+d),a=a.replace(/[?#]/g,encodeURIComponent),d=d.replace("#","%23"),`${s}${o}${a}${d}${l}`}let c=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function o(e){return l(e)}},20844,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return a}});let s=e.r(77629);function a(e,t){let r=(0,s.useRef)(null),a=(0,s.useRef)(null);return(0,s.useCallback)(s=>{if(null===s){let e=r.current;e&&(r.current=null,e());let t=a.current;t&&(a.current=null,t())}else e&&(r.current=n(e,s)),t&&(a.current=n(t,s))},[e,t])}function n(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},12036,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s={DecodeError:function(){return g},MiddlewareNotFoundError:function(){return v},MissingStaticPage:function(){return j},NormalizeError:function(){return b},PageNotFoundError:function(){return y},SP:function(){return x},ST:function(){return p},WEB_VITALS:function(){return n},execOnce:function(){return i},getDisplayName:function(){return u},getLocationOrigin:function(){return o},getURL:function(){return d},isAbsoluteUrl:function(){return c},isResSent:function(){return h},loadGetInitialProps:function(){return f},normalizeRepeatedSlashes:function(){return m},stringifyError:function(){return N}};for(var a in s)Object.defineProperty(r,a,{enumerable:!0,get:s[a]});let n=["CLS","FCP","FID","INP","LCP","TTFB"];function i(e){let t,r=!1;return(...s)=>(r||(r=!0,t=e(...s)),t)}let l=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,c=e=>l.test(e);function o(){let{protocol:e,hostname:t,port:r}=window.location;return`${e}//${t}${r?":"+r:""}`}function d(){let{href:e}=window.location,t=o();return e.substring(t.length)}function u(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function h(e){return e.finished||e.headersSent}function m(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function f(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await f(t.Component,t.ctx)}:{};let s=await e.getInitialProps(t);if(r&&h(r))return s;if(!s)throw Object.defineProperty(Error(`"${u(e)}.getInitialProps()" should resolve to an object. But found "${s}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return s}let x="undefined"!=typeof performance,p=x&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class g extends Error{}class b extends Error{}class y extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class j extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class v extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function N(e){return JSON.stringify({message:e.message,stack:e.stack})}},50755,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isLocalURL",{enumerable:!0,get:function(){return n}});let s=e.r(12036),a=e.r(40764);function n(e){if(!(0,s.isAbsoluteUrl)(e))return!0;try{let t=(0,s.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,a.hasBasePath)(r.pathname)}catch(e){return!1}}},85294,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return s}});let s=e=>{}},43155,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s={default:function(){return g},useLinkStatus:function(){return y}};for(var a in s)Object.defineProperty(r,a,{enumerable:!0,get:s[a]});let n=e.r(97460),i=e.r(12588),l=n._(e.r(77629)),c=e.r(9247),o=e.r(90393),d=e.r(20844),u=e.r(12036),h=e.r(9795);e.r(23498);let m=e.r(33610),f=e.r(50755),x=e.r(91197);function p(e){return"string"==typeof e?e:(0,c.formatUrl)(e)}function g(t){var r;let s,a,n,[c,g]=(0,l.useOptimistic)(m.IDLE_LINK_STATUS),y=(0,l.useRef)(null),{href:j,as:v,children:N,prefetch:k=null,passHref:w,replace:z,shallow:_,scroll:C,onClick:M,onMouseEnter:S,onTouchStart:P,legacyBehavior:E=!1,onNavigate:O,ref:A,unstable_dynamicOnHover:$,...L}=t;s=N,E&&("string"==typeof s||"number"==typeof s)&&(s=(0,i.jsx)("a",{children:s}));let T=l.default.useContext(o.AppRouterContext),R=!1!==k,B=!1!==k?null===(r=k)||"auto"===r?x.FetchStrategy.PPR:x.FetchStrategy.Full:x.FetchStrategy.PPR,{href:U,as:F}=l.default.useMemo(()=>{let e=p(j);return{href:e,as:v?p(v):e}},[j,v]);if(E){if(s?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});a=l.default.Children.only(s)}let I=E?a&&"object"==typeof a&&a.ref:A,D=l.default.useCallback(e=>(null!==T&&(y.current=(0,m.mountLinkInstance)(e,U,T,B,R,g)),()=>{y.current&&((0,m.unmountLinkForCurrentNavigation)(y.current),y.current=null),(0,m.unmountPrefetchableInstance)(e)}),[R,U,T,B,g]),q={ref:(0,d.useMergedRef)(D,I),onClick(t){E||"function"!=typeof M||M(t),E&&a.props&&"function"==typeof a.props.onClick&&a.props.onClick(t),!T||t.defaultPrevented||function(t,r,s,a,n,i,c){if("undefined"!=typeof window){let o,{nodeName:d}=t.currentTarget;if("A"===d.toUpperCase()&&((o=t.currentTarget.getAttribute("target"))&&"_self"!==o||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,f.isLocalURL)(r)){n&&(t.preventDefault(),location.replace(r));return}if(t.preventDefault(),c){let e=!1;if(c({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:u}=e.r(57955);l.default.startTransition(()=>{u(s||r,n?"replace":"push",i??!0,a.current)})}}(t,U,F,y,z,C,O)},onMouseEnter(e){E||"function"!=typeof S||S(e),E&&a.props&&"function"==typeof a.props.onMouseEnter&&a.props.onMouseEnter(e),T&&R&&(0,m.onNavigationIntent)(e.currentTarget,!0===$)},onTouchStart:function(e){E||"function"!=typeof P||P(e),E&&a.props&&"function"==typeof a.props.onTouchStart&&a.props.onTouchStart(e),T&&R&&(0,m.onNavigationIntent)(e.currentTarget,!0===$)}};return(0,u.isAbsoluteUrl)(F)?q.href=F:E&&!w&&("a"!==a.type||"href"in a.props)||(q.href=(0,h.addBasePath)(F)),n=E?l.default.cloneElement(a,q):(0,i.jsx)("a",{...L,...q,children:s}),(0,i.jsx)(b.Provider,{value:c,children:n})}e.r(85294);let b=(0,l.createContext)(m.IDLE_LINK_STATUS),y=()=>(0,l.useContext)(b);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},73356,e=>{"use strict";let t=(0,e.i(60522).default)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);e.s(["Bell",()=>t],73356)},71947,e=>{"use strict";let t=(0,e.i(60522).default)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);e.s(["LayoutDashboard",()=>t],71947)},31652,e=>{"use strict";let t=(0,e.i(60522).default)("clipboard-list",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);e.s(["ClipboardList",()=>t],31652)},12353,e=>{"use strict";let t=(0,e.i(60522).default)("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);e.s(["FolderOpen",()=>t],12353)},43326,e=>{"use strict";let t=(0,e.i(60522).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],43326)},11891,e=>{"use strict";e.i(6763);var t=e.i(74535);function r(){return(0,t.createBrowserClient)("https://ycqgynakmefpjsyfchew.supabase.co","sb_publishable_QToYz-_I_rvgKEUsS7x3-g_F1L0gWxv")}e.s(["createClient",()=>r])},60522,e=>{"use strict";var t=e.i(77629);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},s=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,t.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:l="",children:c,iconNode:o,...d},u)=>(0,t.createElement)("svg",{ref:u,...a,width:r,height:r,stroke:e,strokeWidth:i?24*Number(n)/Number(r):n,className:s("lucide",l),...!c&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(d)&&{"aria-hidden":"true"},...d},[...o.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(c)?c:[c]])),i=(e,a)=>{let i=(0,t.forwardRef)(({className:i,...l},c)=>(0,t.createElement)(n,{ref:c,iconNode:a,className:s(`lucide-${r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,i),...l}));return i.displayName=r(e),i};e.s(["default",()=>i],60522)},98219,e=>{"use strict";let t=(0,e.i(60522).default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>t],98219)},87777,e=>{"use strict";let t=(0,e.i(60522).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>t],87777)},94719,e=>{"use strict";let t=(0,e.i(60522).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>t],94719)},98239,e=>{"use strict";let t=(0,e.i(60522).default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);e.s(["LogOut",()=>t],98239)},20909,e=>{"use strict";var t=e.i(12588),r=e.i(77629),s=e.i(29406),a=e.i(43155),n=e.i(91990),i=e.i(11891),l=e.i(73356),c=e.i(94719),o=e.i(87777),d=e.i(98219),u=e.i(21370),h=e.i(60522);let m=(0,h.default)("check-check",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);var f=e.i(23389);function x(){let[e,s]=(0,r.useState)([]),[a,n]=(0,r.useState)(0),[h,x]=(0,r.useState)(!1),[p,g]=(0,r.useState)(!1),[b,y]=(0,r.useState)(null),j=(0,r.useRef)(null),v=(0,i.createClient)();(0,r.useEffect)(()=>{(async()=>{let{data:{user:e}}=await v.auth.getUser();console.log("[NotificationBell] Auth user:",e?.id,e?.email),e&&y(e.id)})()},[]);let N=async()=>{if(!b)return void console.log("[NotificationBell] No userId, skipping fetch");console.log("[NotificationBell] Fetching notifications for:",b);let{data:e,error:t}=await v.from("notifications").select("*").eq("user_id",b).order("created_at",{ascending:!1}).limit(20);console.log("[NotificationBell] Result:",{data:e,error:t}),!t&&e&&(s(e),n(e.filter(e=>!e.is_read).length))};(0,r.useEffect)(()=>{if(b){N();let e=setInterval(N,3e4);return()=>clearInterval(e)}},[b]),(0,r.useEffect)(()=>{function e(e){j.current&&!j.current.contains(e.target)&&x(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let k=async e=>{await v.from("notifications").update({is_read:!0}).eq("id",e),s(t=>t.map(t=>t.id===e?{...t,is_read:!0}:t)),n(e=>Math.max(0,e-1))},w=async()=>{b&&(g(!0),await v.from("notifications").update({is_read:!0}).eq("user_id",b).eq("is_read",!1),s(e=>e.map(e=>({...e,is_read:!0}))),n(0),g(!1))};return(0,t.jsxs)("div",{className:"relative z-50",ref:j,style:{pointerEvents:"auto"},children:[(0,t.jsxs)("button",{type:"button",onClick:()=>{console.log("[NotificationBell] Bell clicked, isOpen:",h,"-> ",!h),x(!h)},className:(0,f.cn)("relative p-2.5 rounded-lg transition-all cursor-pointer",h?"bg-zinc-700":"hover:bg-zinc-800"),style:{background:h?"rgba(63, 63, 70, 1)":"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",pointerEvents:"auto"},children:[(0,t.jsx)(l.Bell,{className:"w-5 h-5 text-zinc-400"}),a>0&&(0,t.jsx)("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-rose-500 rounded-full text-[10px] font-bold text-white flex items-center justify-center",children:a>9?"9+":a})]}),h&&(0,t.jsxs)("div",{className:"absolute right-0 mt-2 w-80 bg-zinc-900 border border-zinc-700 rounded-xl shadow-2xl overflow-hidden z-[100]",children:[(0,t.jsxs)("div",{className:"px-4 py-3 bg-zinc-800/50 border-b border-zinc-700 flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-zinc-100",children:"Bildirimler"}),a>0&&(0,t.jsxs)("button",{onClick:w,disabled:p,className:"text-xs text-indigo-400 hover:text-indigo-300 flex items-center gap-1",children:[(0,t.jsx)(m,{className:"w-3 h-3"}),"TÃ¼mÃ¼nÃ¼ oku"]})]}),(0,t.jsx)("div",{className:"max-h-96 overflow-y-auto",children:e.length>0?e.map(e=>{let r,s,a,n,i,h=(e=>{switch(e){case"late":return{icon:(0,t.jsx)(c.Clock,{className:"w-4 h-4"}),bg:"bg-rose-500/20",text:"text-rose-400",border:"border-rose-500/30"};case"overtime":return{icon:(0,t.jsx)(o.TrendingUp,{className:"w-4 h-4"}),bg:"bg-amber-500/20",text:"text-amber-400",border:"border-amber-500/30"};case"early_leave":return{icon:(0,t.jsx)(d.AlertTriangle,{className:"w-4 h-4"}),bg:"bg-orange-500/20",text:"text-orange-400",border:"border-orange-500/30"};default:return{icon:(0,t.jsx)(l.Bell,{className:"w-4 h-4"}),bg:"bg-indigo-500/20",text:"text-indigo-400",border:"border-indigo-500/30"}}})(e.type);return(0,t.jsx)("div",{className:(0,f.cn)("px-4 py-3 border-b border-zinc-800 hover:bg-zinc-800/50 transition-colors",!e.is_read&&"bg-zinc-800/30"),children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:(0,f.cn)("p-2 rounded-lg border",h.bg,h.text,h.border),children:h.icon}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsx)("p",{className:(0,f.cn)("text-sm font-medium truncate",e.is_read?"text-zinc-400":"text-zinc-100"),children:e.title}),!e.is_read&&(0,t.jsx)("button",{onClick:()=>k(e.id),className:"p-1 hover:bg-zinc-700 rounded",children:(0,t.jsx)(u.Check,{className:"w-3 h-3 text-zinc-500"})})]}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 mt-0.5 line-clamp-2",children:e.message}),(0,t.jsx)("p",{className:"text-[10px] text-zinc-600 mt-1",children:(r=new Date(e.created_at),a=Math.floor((s=new Date().getTime()-r.getTime())/6e4),n=Math.floor(s/36e5),i=Math.floor(s/864e5),a<1?"Az Ã¶nce":a<60?`${a}d \xf6nce`:n<24?`${n}s \xf6nce`:i<7?`${i}g \xf6nce`:r.toLocaleDateString("tr-TR",{day:"numeric",month:"short"}))})]})]})},e.id)}):(0,t.jsxs)("div",{className:"p-8 text-center",children:[(0,t.jsx)(l.Bell,{className:"w-8 h-8 text-zinc-700 mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-sm text-zinc-500",children:"Bildirim yok"})]})})]})]})}var p=e.i(71947),g=e.i(62915),b=e.i(19608),y=e.i(99405),j=e.i(22608),v=e.i(98239);let N=(0,h.default)("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]);var k=e.i(21137),w=e.i(43326),z=e.i(16829),_=e.i(31652),C=e.i(12353);function M({className:e}){return(0,t.jsxs)("svg",{className:e,viewBox:"0 0 39.9 53.7",children:[(0,t.jsx)("polyline",{points:"8.6,21.9 2.8,2.4 2.8,34.5",fill:"#a1a1aa"}),(0,t.jsx)("path",{d:"M26.6,34.8c0,3.4-2.7,6.1-6.1,6.1s-6.1-2.7-6.1-6.1s2.7-6.1,6.1-6.1C23.9,28.7,26.6,31.4,26.6,34.8",fill:"#FFD600"}),(0,t.jsx)("path",{d:"M38.3,34.8C38.3,25,30.3,17,20.5,17S2.8,25,2.8,34.8c0,7.2,4.3,13.3,10.4,16.1l2.3-6.7c-3.4-1.8-5.7-5.3-5.7-9.4c0-5.9,4.8-10.7,10.7-10.7s10.7,4.8,10.7,10.7c0,4-2.2,7.5-5.5,9.4l2.3,6.7C34,48.1,38.3,41.9,38.3,34.8",fill:"#d4d4d8"})]})}let S=[{label:"Dashboard",href:"/dashboard"},{label:"Markalar",href:"/musteriler"}],P={admin:["*"],operasyon:["/gunluk-isler","/giris-cikis","/teknik-hizmetler","/ayarlar"],personel:["/gunluk-isler","/giris-cikis"]};function E({isOpen:e,onClose:r,pathname:s,isAdmin:n,isOperasyon:i,counts:l,appUser:o,onSignOut:d}){let u=e=>"/dashboard"===e?"/"===s||"/dashboard"===s:s.startsWith(e),h=n?{label:"Admin",class:"badge-emerald"}:i?{label:"Operasyon",class:"badge-violet"}:{label:"Personel",class:"badge-neutral"};return(0,t.jsxs)(t.Fragment,{children:[e&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 lg:hidden",onClick:r}),(0,t.jsx)("aside",{className:`
          fixed top-0 left-0 z-50 h-screen w-64 bg-sidebar border-r border-white/5
          transform transition-transform duration-300 ease-in-out
          lg:translate-x-0 lg:top-12
          ${e?"translate-x-0":"-translate-x-full"}
        `,children:(0,t.jsxs)("div",{className:"flex flex-col h-full",children:[(0,t.jsx)("div",{className:"p-5 section-divider",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"h-11 w-11 rounded-xl logo-container flex items-center justify-center",children:(0,t.jsx)(M,{className:"w-7 h-7"})}),(0,t.jsx)("div",{className:"absolute -bottom-0.5 -right-0.5 h-3.5 w-3.5 rounded-full bg-emerald-500 border-2 border-[#09090b] pulse-status"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"font-bold text-base text-white",children:"Ajans Bee"}),(0,t.jsx)("p",{className:"text-[10px] font-mono tracking-widest uppercase text-zinc-500",children:"AI Platform"})]})]}),(0,t.jsx)("button",{onClick:r,className:"lg:hidden p-2 rounded-lg hover:bg-white/10 text-zinc-400",children:(0,t.jsx)(k.X,{className:"w-5 h-5"})})]})}),(0,t.jsxs)("nav",{className:"flex-1 p-3 space-y-1 overflow-y-auto",children:[n&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:"text-[10px] font-semibold uppercase tracking-widest px-3 mb-2 text-zinc-500",children:"Ana MenÃ¼"}),(0,t.jsxs)(a.default,{href:"/dashboard",className:`menu-item ${u("/dashboard")?"menu-active text-white":"text-zinc-400"}`,children:[(0,t.jsx)(p.LayoutDashboard,{className:`w-5 h-5 ${u("/dashboard")?"text-indigo-400":""}`}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Dashboard"})]}),(0,t.jsxs)(a.default,{href:"/musteriler",className:`menu-item ${u("/musteriler")||u("/customers")?"menu-active text-white":"text-zinc-400"}`,children:[(0,t.jsx)(g.Building2,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Markalar"}),l.customers>0&&(0,t.jsx)("span",{className:"ml-auto text-[11px] bg-violet-500/20 text-violet-400 px-2 py-0.5 rounded-full font-mono",children:l.customers})]}),(0,t.jsxs)(a.default,{href:"/teknik-hizmetler",className:`menu-item ${u("/teknik-hizmetler")?"menu-active text-white":"text-zinc-400"}`,children:[(0,t.jsx)(b.Server,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Teknik Hizmetler"}),l.services>0&&(0,t.jsx)("span",{className:"ml-auto text-[11px] bg-amber-500/20 text-amber-400 px-2 py-0.5 rounded-full font-mono",children:l.services})]}),(0,t.jsx)("p",{className:"text-[10px] font-semibold uppercase tracking-widest px-3 mb-2 mt-5 text-zinc-500",children:"AraÃ§lar"}),(0,t.jsxs)(a.default,{href:"/icerik-uret",className:`menu-item ${u("/icerik-uret")?"menu-active text-white":"text-zinc-400"}`,children:[(0,t.jsx)(y.Sparkles,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Ä°Ã§erik Ãœret"}),(0,t.jsx)("span",{className:"ml-auto badge badge-fuchsia font-mono",children:"AI"})]}),(0,t.jsxs)(a.default,{href:"/gorseller",className:`menu-item ${u("/gorseller")?"menu-active text-white":"text-zinc-400"}`,children:[(0,t.jsx)(C.FolderOpen,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Dosyalar"})]})]}),i&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:"text-[10px] font-semibold uppercase tracking-widest px-3 mb-2 text-zinc-500",children:"AraÃ§lar"}),(0,t.jsxs)(a.default,{href:"/teknik-hizmetler",className:`menu-item ${u("/teknik-hizmetler")?"menu-active text-white":"text-zinc-400"}`,children:[(0,t.jsx)(b.Server,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Teknik Hizmetler"}),l.services>0&&(0,t.jsx)("span",{className:"ml-auto text-[11px] bg-amber-500/20 text-amber-400 px-2 py-0.5 rounded-full font-mono",children:l.services})]})]}),(0,t.jsx)("p",{className:"text-[10px] font-semibold uppercase tracking-widest px-3 mb-2 mt-5 text-zinc-500",children:"Personel"}),(0,t.jsxs)(a.default,{href:"/gunluk-isler",className:`menu-item ${u("/gunluk-isler")?"menu-active text-white":"text-zinc-400"}`,children:[(0,t.jsx)(_.ClipboardList,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"GÃ¼nlÃ¼k Ä°ÅŸler"})]}),(0,t.jsxs)(a.default,{href:"/giris-cikis",className:`menu-item ${u("/giris-cikis")?"menu-active text-white":"text-zinc-400"}`,children:[(0,t.jsx)(c.Clock,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"GiriÅŸ/Ã‡Ä±kÄ±ÅŸ"})]}),n&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:"text-[10px] font-semibold uppercase tracking-widest px-3 mb-2 mt-5 text-zinc-500",children:"Sistem"}),(0,t.jsxs)(a.default,{href:"/ayarlar",className:`menu-item ${u("/ayarlar")?"menu-active text-white":"text-zinc-400"}`,children:[(0,t.jsx)(j.Settings,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Ayarlar"})]})]})]}),(0,t.jsx)("div",{className:"p-3 section-divider border-t",children:(0,t.jsxs)("div",{className:"user-card rounded-xl p-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"h-10 w-10 rounded-lg bg-gradient-to-br from-indigo-500 to-violet-600 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-white text-sm font-bold",children:o?.email?.charAt(0).toUpperCase()||"A"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-white truncate",children:o?.full_name||(()=>{if(o?.full_name)return o.full_name.split(" ")[0];if(o?.email){let e=o.email.split("@")[0];return e.charAt(0).toUpperCase()+e.slice(1)}return"KullanÄ±cÄ±"})()}),(0,t.jsx)("span",{className:`badge ${h.class}`,children:h.label})]})]}),(0,t.jsxs)("button",{onClick:d,className:"group w-full mt-3 flex items-center justify-center gap-2 px-3 py-2.5 rounded-lg text-sm font-medium transition-all bg-rose-500/10 border border-rose-500/20 hover:bg-rose-500/20",children:[(0,t.jsx)(v.LogOut,{className:"w-4 h-4 text-rose-400 transition-transform group-hover:-translate-x-0.5"}),(0,t.jsx)("span",{className:"text-rose-400",children:"Ã‡Ä±kÄ±ÅŸ Yap"})]})]})})]})})]})}function O({children:e}){let l=(0,s.useRouter)(),o=(0,s.usePathname)(),{appUser:d,loading:u,isAdmin:h,signOut:m}=(0,n.useAuth)(),[f,b]=(0,r.useState)({customers:0,services:0}),[j,v]=(0,r.useState)(!1),k=(0,i.createClient)(),C=o.includes("/customers/")&&o.split("/").length>2,M=(e,t)=>"admin"===e||(P[e]||[]).some(e=>t.startsWith(e));async function O(){await m(),l.push("/login")}(0,r.useEffect)(()=>{u||(d?M(d.role||"personel",o)?async function(){try{if(h||d?.role==="operasyon"){let[e,t]=await Promise.all([k.from("customers").select("id",{count:"exact",head:!0}),k.from("technical_services").select("id",{count:"exact",head:!0})]);b({customers:e.count||0,services:t.count||0})}}catch(e){console.error("Fetch error:",e)}}():l.push("/gunluk-isler"):l.push("/login"))},[u,d,h,l,k,o]),(0,r.useEffect)(()=>{v(!1)},[o]);let A=e=>"/dashboard"===e?"/"===o||"/dashboard"===o:o.startsWith(e),$=d?.role==="operasyon";return u?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-body",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,t.jsx)(w.Loader2,{className:"h-8 w-8 animate-spin text-indigo-500"}),(0,t.jsx)("p",{className:"text-sm text-zinc-500",children:"YÃ¼kleniyor..."})]})}):d&&M(d.role||"personel",o)?(0,t.jsxs)("div",{className:"min-h-screen bg-body",children:[(0,t.jsxs)("header",{className:"fixed top-0 left-0 right-0 z-50 h-12 bg-topnav border-b border-white/10 flex items-center justify-between px-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("button",{onClick:()=>v(!0),className:"lg:hidden p-2 -ml-2 rounded-lg hover:bg-white/10 text-zinc-400",children:(0,t.jsx)(N,{className:"w-5 h-5"})}),(0,t.jsx)("span",{className:"text-xs font-mono text-zinc-500 hidden sm:block",children:"v2.0"}),h&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-zinc-600 hidden sm:block",children:"|"}),(0,t.jsx)("div",{className:"hidden sm:flex gap-1",children:S.map(e=>(0,t.jsx)(a.default,{href:e.href,className:`px-3 py-1.5 text-xs font-medium rounded-md transition-all ${A(e.href)?"bg-white/10 text-white":"text-zinc-400 hover:text-white hover:bg-white/5"}`,children:e.label},e.href))})]})]}),h&&(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"relative hidden md:block",children:[(0,t.jsx)(z.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-500"}),(0,t.jsx)("input",{type:"text",placeholder:"Ara...",className:"w-48 pl-10 pr-4 py-1.5 rounded-lg text-sm bg-white/5 border border-white/10 text-white placeholder:text-zinc-600 focus:outline-none focus:border-indigo-500/50"}),(0,t.jsx)("kbd",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-[10px] px-1.5 py-0.5 rounded font-mono bg-white/5 text-zinc-500",children:"âŒ˜K"})]}),(0,t.jsx)(x,{})]})]}),(0,t.jsx)(E,{isOpen:j,onClose:()=>v(!1),pathname:o,isAdmin:h,isOperasyon:$,counts:f,appUser:d,onSignOut:O}),(0,t.jsxs)("div",{className:"lg:ml-64 pt-12 min-h-screen flex flex-col",children:[!C&&(0,t.jsx)("header",{className:"sticky top-12 z-30 bg-topnav border-b border-white/5 px-4 sm:px-6 py-4",children:(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-lg sm:text-xl font-bold text-white",children:["HoÅŸ geldin, ",(()=>{if(d?.full_name)return d.full_name.split(" ")[0];if(d?.email){let e=d.email.split("@")[0];return e.charAt(0).toUpperCase()+e.slice(1)}return"KullanÄ±cÄ±"})()," ðŸ‘‹"]}),(0,t.jsx)("p",{className:"text-sm text-zinc-500 mt-0.5 hidden sm:block",children:h?"Hemen iÃ§erik Ã¼retmeye baÅŸla":"GÃ¼nlÃ¼k iÅŸlerini kaydet"})]})})}),(0,t.jsx)("main",{className:"flex-1 p-4 sm:p-6 bg-content",children:e})]}),(0,t.jsx)("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 z-40 bg-topnav border-t border-white/10 px-2 py-2 safe-area-pb",children:(0,t.jsxs)("div",{className:"flex items-center justify-around",children:[h&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(a.default,{href:"/dashboard",className:`flex flex-col items-center gap-1 px-3 py-2 rounded-lg ${A("/dashboard")?"text-indigo-400":"text-zinc-500"}`,children:[(0,t.jsx)(p.LayoutDashboard,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"text-[10px] font-medium",children:"Ana Sayfa"})]}),(0,t.jsxs)(a.default,{href:"/musteriler",className:`flex flex-col items-center gap-1 px-3 py-2 rounded-lg ${A("/musteriler")?"text-indigo-400":"text-zinc-500"}`,children:[(0,t.jsx)(g.Building2,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"text-[10px] font-medium",children:"Markalar"})]}),(0,t.jsxs)(a.default,{href:"/icerik-uret",className:`flex flex-col items-center gap-1 px-3 py-2 rounded-lg ${A("/icerik-uret")?"text-fuchsia-400":"text-zinc-500"}`,children:[(0,t.jsx)(y.Sparkles,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"text-[10px] font-medium",children:"Ãœret"})]})]}),(0,t.jsxs)(a.default,{href:"/gunluk-isler",className:`flex flex-col items-center gap-1 px-3 py-2 rounded-lg ${A("/gunluk-isler")?"text-indigo-400":"text-zinc-500"}`,children:[(0,t.jsx)(_.ClipboardList,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"text-[10px] font-medium",children:"Ä°ÅŸler"})]}),(0,t.jsxs)(a.default,{href:"/giris-cikis",className:`flex flex-col items-center gap-1 px-3 py-2 rounded-lg ${A("/giris-cikis")?"text-indigo-400":"text-zinc-500"}`,children:[(0,t.jsx)(c.Clock,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"text-[10px] font-medium",children:"GiriÅŸ/Ã‡Ä±kÄ±ÅŸ"})]})]})}),(0,t.jsx)("div",{className:"lg:hidden h-16"})]}):null}e.s(["default",()=>O],20909)}]);