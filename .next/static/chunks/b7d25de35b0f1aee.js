(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,58162,e=>{"use strict";var r=function(){return(r=Object.assign||function(e){for(var r,t=1,o=arguments.length;t<o;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);return e}).apply(this,arguments)};function t(e,r){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&0>r.indexOf(o)&&(t[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,o=Object.getOwnPropertySymbols(e);n<o.length;n++)0>r.indexOf(o[n])&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(t[o[n]]=e[o[n]]);return t}function o(e,r,t,o){return new(t||(t=Promise))(function(n,a){function i(e){try{s(o.next(e))}catch(e){a(e)}}function l(e){try{s(o.throw(e))}catch(e){a(e)}}function s(e){var r;e.done?n(e.value):((r=e.value)instanceof t?r:new t(function(e){e(r)})).then(i,l)}s((o=o.apply(e,r||[])).next())})}function n(e,r,t){if(t||2==arguments.length)for(var o,n=0,a=r.length;n<a;n++)!o&&n in r||(o||(o=Array.prototype.slice.call(r,0,n)),o[n]=r[n]);return e.concat(o||Array.prototype.slice.call(r))}"function"==typeof SuppressedError&&SuppressedError,e.s(["__assign",()=>r,"__awaiter",()=>o,"__rest",()=>t,"__spreadArray",()=>n])},91990,18828,e=>{"use strict";e.i(7060);var r=e.i(12588),t=e.i(77629);e.i(6763);var o=e.i(74535);let n={admin:["dashboard","markalar","teknik-hizmetler","icerik-uret","gunluk-isler","giris-cikis","ayarlar"],personel:["gunluk-isler","giris-cikis"],operasyon:["gunluk-isler","giris-cikis","teknik-hizmetler"]};function a(e,r){return"admin"===e||(n[e]?.includes(r)??!1)}function i(e,r){return"admin"===e||"operasyon"===e&&"teknik-hizmetler"===r||"gunluk-isler"===r||"giris-cikis"===r}function l(e){return"admin"===e?"/dashboard":"/gunluk-isler"}e.s(["AVATAR_COLORS",0,{A:"from-amber-500 to-orange-600",B:"from-violet-500 to-purple-600",E:"from-rose-500 to-pink-600",N:"from-emerald-500 to-teal-600",Ã–:"from-cyan-500 to-blue-600",default:"from-zinc-500 to-zinc-600"},"CATEGORY_COLORS",0,{tasarim:{bg:"bg-fuchsia-500/20",text:"text-fuchsia-400",border:"border-fuchsia-500/20"},video:{bg:"bg-rose-500/20",text:"text-rose-400",border:"border-rose-500/20"},revize:{bg:"bg-amber-500/20",text:"text-amber-400",border:"border-amber-500/20"},toplanti:{bg:"bg-blue-500/20",text:"text-blue-400",border:"border-blue-500/20"},arastirma:{bg:"bg-cyan-500/20",text:"text-cyan-400",border:"border-cyan-500/20"},gelistirme:{bg:"bg-emerald-500/20",text:"text-emerald-400",border:"border-emerald-500/20"},icerik:{bg:"bg-violet-500/20",text:"text-violet-400",border:"border-violet-500/20"},destek:{bg:"bg-orange-500/20",text:"text-orange-400",border:"border-orange-500/20"},genel:{bg:"bg-slate-500/20",text:"text-slate-400",border:"border-slate-500/20"}},"canAccess",()=>a,"canEdit",()=>i,"getDefaultRoute",()=>l],18828);let s=(0,t.createContext)(void 0);function u({children:e}){let[n,u]=(0,t.useState)(null),[c,b]=(0,t.useState)(null),[g,d]=(0,t.useState)(!0),f=(0,t.useRef)(!1),h=(0,t.useMemo)(()=>(0,o.createBrowserClient)("https://ycqgynakmefpjsyfchew.supabase.co","sb_publishable_QToYz-_I_rvgKEUsS7x3-g_F1L0gWxv"),[]),p=(0,t.useCallback)(async e=>{try{console.log("[Auth] Fetching app user...");let{data:r,error:t}=await h.from("users").select("*").eq("id",e).single();if(t)return console.error("[Auth] Users error:",t.message),null;return console.log("[Auth] Got user:",r?.email),r}catch(e){return console.error("[Auth] Exception:",e?.message),null}},[h]),m=(0,t.useCallback)(async()=>{let{data:{user:e}}=await h.auth.getUser();e&&(u(e),b(await p(e.id)))},[h,p]);(0,t.useEffect)(()=>{if(f.current)return;f.current=!0;let e=async()=>{console.log("[Auth] Init start");try{let{data:{user:e},error:r}=await h.auth.getUser();if(r||!e){console.log("[Auth] No user"),d(!1);return}console.log("[Auth] User:",e.email),u(e);let t=await p(e.id);b(t),console.log("[Auth] Done"),d(!1)}catch(e){console.error("[Auth] Error:",e?.message),d(!1)}},{data:{subscription:r}}=h.auth.onAuthStateChange(e=>{console.log("[Auth] Event:",e),"SIGNED_OUT"===e&&(u(null),b(null),d(!1))});return e(),()=>r.unsubscribe()},[h,p]);let y=(0,t.useCallback)(async()=>{await h.auth.signOut(),u(null),b(null)},[h]),v=c?.role??null;return(0,r.jsx)(s.Provider,{value:{authUser:n,appUser:c,loading:g,role:v,isAdmin:"admin"===v,isOperasyon:"operasyon"===v,isPersonel:"personel"===v,canAccess:e=>!!v&&a(v,e),canEdit:e=>!!v&&i(v,e),getDefaultRoute:()=>v?l(v):"/login",signOut:y,refreshUser:m},children:e})}function c(){let e=(0,t.useContext)(s);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}e.s(["AuthProvider",()=>u,"useAuth",()=>c],91990)}]);